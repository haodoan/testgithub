###############################################################################
#                                                                             #
# IAR C/C++ Compiler V1.30.1.50036 for STM8             24/Jan/2015  12:33:29 #
# Copyright 2010-2011 IAR Systems AB.                                         #
#                                                                             #
#    Source file  =  D:\Project\STM8S_StdPeriph_Lib_V2.1.0\Libraries\STM8S_St #
#                    dPeriph_Driver\src\stm8s_tim2.c                          #
#    Command line =  D:\Project\STM8S_StdPeriph_Lib_V2.1.0\Libraries\STM8S_St #
#                    dPeriph_Driver\src\stm8s_tim2.c -e -Ol --no_cse          #
#                    --no_unroll --no_inline --no_code_motion --no_tbaa       #
#                    --no_cross_call --debug --code_model medium              #
#                    --data_model medium -o D:\Project\STM8S_StdPeriph_Lib_V2 #
#                    .1.0\Project\STM8S_StdPeriph_Template\EWSTM8\STM8S208\Ob #
#                    j\ --dlib_config "C:\Program Files\IAR Systems\Embedded  #
#                    Workbench 6.0\stm8\LIB\dlstm8mmn.h" -D                   #
#                    USE_STM8_128_EVAL -D STM8S003 -lC                        #
#                    D:\Project\STM8S_StdPeriph_Lib_V2.1.0\Project\STM8S_StdP #
#                    eriph_Template\EWSTM8\STM8S208\List\ -lb                 #
#                    D:\Project\STM8S_StdPeriph_Lib_V2.1.0\Project\STM8S_StdP #
#                    eriph_Template\EWSTM8\STM8S208\List\ -I                  #
#                    D:\Project\STM8S_StdPeriph_Lib_V2.1.0\Project\STM8S_StdP #
#                    eriph_Template\EWSTM8\..\ -I                             #
#                    D:\Project\STM8S_StdPeriph_Lib_V2.1.0\Project\STM8S_StdP #
#                    eriph_Template\EWSTM8\..\..\..\Libraries\STM8S_StdPeriph #
#                    _Driver\inc\ -I D:\Project\STM8S_StdPeriph_Lib_V2.1.0\Pr #
#                    oject\STM8S_StdPeriph_Template\EWSTM8\..\..\..\Utilities #
#                    \STM8S_EVAL\ -I D:\Project\STM8S_StdPeriph_Lib_V2.1.0\Pr #
#                    oject\STM8S_StdPeriph_Template\EWSTM8\..\..\..\Utilities #
#                    \STM8S_EVAL\STM8S-128_EVAL\ -I                           #
#                    D:\Project\STM8S_StdPeriph_Lib_V2.1.0\Project\STM8S_StdP #
#                    eriph_Template\EWSTM8\..\..\..\Utilities\STM8S_EVAL\Comm #
#                    on\ --vregs 16                                           #
#    List file    =  D:\Project\STM8S_StdPeriph_Lib_V2.1.0\Project\STM8S_StdP #
#                    eriph_Template\EWSTM8\STM8S208\List\stm8s_tim2.lst       #
#    Object file  =  D:\Project\STM8S_StdPeriph_Lib_V2.1.0\Project\STM8S_StdP #
#                    eriph_Template\EWSTM8\STM8S208\Obj\stm8s_tim2.o          #
#                                                                             #
#                                                                             #
###############################################################################

D:\Project\STM8S_StdPeriph_Lib_V2.1.0\Libraries\STM8S_StdPeriph_Driver\src\stm8s_tim2.c
      1          /**
      2            ******************************************************************************
      3            * @file    stm8s_tim2.c
      4            * @author  MCD Application Team
      5            * @version V2.1.0
      6            * @date    18-November-2011
      7            * @brief   This file contains all the functions for the TIM2 peripheral.
      8            ******************************************************************************
      9            * @attention
     10            *
     11            * THE PRESENT FIRMWARE WHICH IS FOR GUIDANCE ONLY AIMS AT PROVIDING CUSTOMERS
     12            * WITH CODING INFORMATION REGARDING THEIR PRODUCTS IN ORDER FOR THEM TO SAVE
     13            * TIME. AS A RESULT, STMICROELECTRONICS SHALL NOT BE HELD LIABLE FOR ANY
     14            * DIRECT, INDIRECT OR CONSEQUENTIAL DAMAGES WITH RESPECT TO ANY CLAIMS ARISING
     15            * FROM THE CONTENT OF SUCH FIRMWARE AND/OR THE USE MADE BY CUSTOMERS OF THE
     16            * CODING INFORMATION CONTAINED HEREIN IN CONNECTION WITH THEIR PRODUCTS.
     17            *
     18            * <h2><center>&copy; COPYRIGHT 2011 STMicroelectronics</center></h2>
     19            ******************************************************************************
     20            */
     21          
     22          /* Includes ------------------------------------------------------------------*/
     23          #include "stm8s_tim2.h"
     24          
     25          /** @addtogroup STM8S_StdPeriph_Driver
     26            * @{
     27            */
     28          /* Private typedef -----------------------------------------------------------*/
     29          /* Private define ------------------------------------------------------------*/
     30          /* Private macro -------------------------------------------------------------*/
     31          /* Private variables ---------------------------------------------------------*/
     32          /* Private function prototypes -----------------------------------------------*/
     33          static void TI1_Config(uint8_t TIM2_ICPolarity, uint8_t TIM2_ICSelection, uint8_t TIM2_ICFilter);
     34          static void TI2_Config(uint8_t TIM2_ICPolarity, uint8_t TIM2_ICSelection, uint8_t TIM2_ICFilter);
     35          static void TI3_Config(uint8_t TIM2_ICPolarity, uint8_t TIM2_ICSelection, uint8_t TIM2_ICFilter);
     36          /**
     37            * @addtogroup TIM2_Public_Functions
     38            * @{
     39            */
     40          
     41          /**
     42            * @brief  Deinitializes the TIM2 peripheral registers to their default reset values.
     43            * @param  None
     44            * @retval None
     45            */

   \                                 In section .far_func.text, align 1
     46          void TIM2_DeInit(void)
     47          {
     48          
     49              TIM2->CR1 = (uint8_t)TIM2_CR1_RESET_VALUE;
   \                     TIM2_DeInit:
   \   000000 35005300              MOV       L:0x5300, #0x0
     50              TIM2->IER = (uint8_t)TIM2_IER_RESET_VALUE;
   \   000004 35005303              MOV       L:0x5303, #0x0
     51              TIM2->SR2 = (uint8_t)TIM2_SR2_RESET_VALUE;
   \   000008 35005305              MOV       L:0x5305, #0x0
     52          
     53              /* Disable channels */
     54              TIM2->CCER1 = (uint8_t)TIM2_CCER1_RESET_VALUE;
   \   00000C 3500530A              MOV       L:0x530a, #0x0
     55              TIM2->CCER2 = (uint8_t)TIM2_CCER2_RESET_VALUE;
   \   000010 3500530B              MOV       L:0x530b, #0x0
     56          
     57          
     58              /* Then reset channel registers: it also works if lock level is equal to 2 or 3 */
     59              TIM2->CCER1 = (uint8_t)TIM2_CCER1_RESET_VALUE;
   \   000014 3500530A              MOV       L:0x530a, #0x0
     60              TIM2->CCER2 = (uint8_t)TIM2_CCER2_RESET_VALUE;
   \   000018 3500530B              MOV       L:0x530b, #0x0
     61              TIM2->CCMR1 = (uint8_t)TIM2_CCMR1_RESET_VALUE;
   \   00001C 35005307              MOV       L:0x5307, #0x0
     62              TIM2->CCMR2 = (uint8_t)TIM2_CCMR2_RESET_VALUE;
   \   000020 35005308              MOV       L:0x5308, #0x0
     63              TIM2->CCMR3 = (uint8_t)TIM2_CCMR3_RESET_VALUE;
   \   000024 35005309              MOV       L:0x5309, #0x0
     64              TIM2->CNTRH = (uint8_t)TIM2_CNTRH_RESET_VALUE;
   \   000028 3500530C              MOV       L:0x530c, #0x0
     65              TIM2->CNTRL = (uint8_t)TIM2_CNTRL_RESET_VALUE;
   \   00002C 3500530D              MOV       L:0x530d, #0x0
     66              TIM2->PSCR = (uint8_t)TIM2_PSCR_RESET_VALUE;
   \   000030 3500530E              MOV       L:0x530e, #0x0
     67              TIM2->ARRH  = (uint8_t)TIM2_ARRH_RESET_VALUE;
   \   000034 35FF530F              MOV       L:0x530f, #0xff
     68              TIM2->ARRL  = (uint8_t)TIM2_ARRL_RESET_VALUE;
   \   000038 35FF5310              MOV       L:0x5310, #0xff
     69              TIM2->CCR1H = (uint8_t)TIM2_CCR1H_RESET_VALUE;
   \   00003C 35005311              MOV       L:0x5311, #0x0
     70              TIM2->CCR1L = (uint8_t)TIM2_CCR1L_RESET_VALUE;
   \   000040 35005312              MOV       L:0x5312, #0x0
     71              TIM2->CCR2H = (uint8_t)TIM2_CCR2H_RESET_VALUE;
   \   000044 35005313              MOV       L:0x5313, #0x0
     72              TIM2->CCR2L = (uint8_t)TIM2_CCR2L_RESET_VALUE;
   \   000048 35005314              MOV       L:0x5314, #0x0
     73              TIM2->CCR3H = (uint8_t)TIM2_CCR3H_RESET_VALUE;
   \   00004C 35005315              MOV       L:0x5315, #0x0
     74              TIM2->CCR3L = (uint8_t)TIM2_CCR3L_RESET_VALUE;
   \   000050 35005316              MOV       L:0x5316, #0x0
     75              TIM2->SR1 = (uint8_t)TIM2_SR1_RESET_VALUE;
   \   000054 35005304              MOV       L:0x5304, #0x0
     76          }
   \   000058 87                    RETF
     77          
     78          
     79          /**
     80            * @brief  Initializes the TIM2 Time Base Unit according to the specified parameters.
     81            * @param    TIM2_Prescaler specifies the Prescaler from TIM2_Prescaler_TypeDef.
     82            * @param    TIM2_Period specifies the Period value.
     83            * @retval None
     84            */

   \                                 In section .far_func.text, align 1
     85          void TIM2_TimeBaseInit( TIM2_Prescaler_TypeDef TIM2_Prescaler,
     86                                  uint16_t TIM2_Period)
     87          {
   \                     TIM2_TimeBaseInit:
   \   000000 9093                  LDW       Y, X
     88              /* Set the Prescaler value */
     89              TIM2->PSCR = (uint8_t)(TIM2_Prescaler);
   \   000002 C7530E                LD        L:0x530e, A
     90              /* Set the Autoreload value */
     91              TIM2->ARRH = (uint8_t)(TIM2_Period >> 8);
   \   000005 93                    LDW       X, Y
   \   000006 4F                    CLR       A
   \   000007 01                    RRWA      X, A
   \   000008 9F                    LD        A, XL
   \   000009 C7530F                LD        L:0x530f, A
     92              TIM2->ARRL = (uint8_t)(TIM2_Period);
   \   00000C 909F                  LD        A, YL
   \   00000E C75310                LD        L:0x5310, A
     93          }
   \   000011 87                    RETF
     94          
     95          
     96          /**
     97            * @brief  Initializes the TIM2 Channel1 according to the specified parameters.
     98            * @param   TIM2_OCMode specifies the Output Compare mode  from @ref TIM2_OCMode_TypeDef.
     99            * @param   TIM2_OutputState specifies the Output State  from @ref TIM2_OutputState_TypeDef.
    100            * @param   TIM2_Pulse specifies the Pulse width  value.
    101            * @param   TIM2_OCPolarity specifies the Output Compare Polarity  from @ref TIM2_OCPolarity_TypeDef.
    102            * @retval None
    103            */

   \                                 In section .far_func.text, align 1
    104          void TIM2_OC1Init(TIM2_OCMode_TypeDef TIM2_OCMode,
    105                            TIM2_OutputState_TypeDef TIM2_OutputState,
    106                            uint16_t TIM2_Pulse,
    107                            TIM2_OCPolarity_TypeDef TIM2_OCPolarity)
    108          {
   \                     TIM2_OC1Init:
   \   000000 8D000000              CALLF     L:?push_w4
   \   000004 8D000000              CALLF     L:?push_w6
   \   000008 3B0000                PUSH      S:?b10
   \   00000B B700                  LD        S:?b8, A
   \   00000D 450000                MOV       S:?b9, S:?b0
   \   000010 BF00                  LDW       S:?w6, X
   \   000012 450000                MOV       S:?b10, S:?b1
    109              /* Check the parameters */
    110              assert_param(IS_TIM2_OC_MODE_OK(TIM2_OCMode));
   \   000015 3D00                  TNZ       S:?b8
   \   000017 272D                  JREQ      L:??TIM2_OC1Init_0
   \   000019 B600                  LD        A, S:?b8
   \   00001B A110                  CP        A, #0x10
   \   00001D 2727                  JREQ      L:??TIM2_OC1Init_0
   \   00001F B600                  LD        A, S:?b8
   \   000021 A120                  CP        A, #0x20
   \   000023 2721                  JREQ      L:??TIM2_OC1Init_0
   \   000025 B600                  LD        A, S:?b8
   \   000027 A130                  CP        A, #0x30
   \   000029 271B                  JREQ      L:??TIM2_OC1Init_0
   \   00002B B600                  LD        A, S:?b8
   \   00002D A160                  CP        A, #0x60
   \   00002F 2715                  JREQ      L:??TIM2_OC1Init_0
   \   000031 B600                  LD        A, S:?b8
   \   000033 A170                  CP        A, #0x70
   \   000035 270F                  JREQ      L:??TIM2_OC1Init_0
   \   000037 AE006E                LDW       X, #0x6e
   \   00003A BF00                  LDW       S:?w1, X
   \   00003C 5F                    CLRW      X
   \   00003D BF00                  LDW       S:?w0, X
   \   00003F AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   000042 8D000000              CALLF     assert_failed
    111              assert_param(IS_TIM2_OUTPUT_STATE_OK(TIM2_OutputState));
   \                     ??TIM2_OC1Init_0:
   \   000046 3D00                  TNZ       S:?b9
   \   000048 2715                  JREQ      L:??TIM2_OC1Init_1
   \   00004A B600                  LD        A, S:?b9
   \   00004C A111                  CP        A, #0x11
   \   00004E 270F                  JREQ      L:??TIM2_OC1Init_1
   \   000050 AE006F                LDW       X, #0x6f
   \   000053 BF00                  LDW       S:?w1, X
   \   000055 5F                    CLRW      X
   \   000056 BF00                  LDW       S:?w0, X
   \   000058 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   00005B 8D000000              CALLF     assert_failed
    112              assert_param(IS_TIM2_OC_POLARITY_OK(TIM2_OCPolarity));
   \                     ??TIM2_OC1Init_1:
   \   00005F 3D00                  TNZ       S:?b10
   \   000061 2715                  JREQ      L:??TIM2_OC1Init_2
   \   000063 B600                  LD        A, S:?b10
   \   000065 A122                  CP        A, #0x22
   \   000067 270F                  JREQ      L:??TIM2_OC1Init_2
   \   000069 AE0070                LDW       X, #0x70
   \   00006C BF00                  LDW       S:?w1, X
   \   00006E 5F                    CLRW      X
   \   00006F BF00                  LDW       S:?w0, X
   \   000071 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   000074 8D000000              CALLF     assert_failed
    113          
    114              /* Disable the Channel 1: Reset the CCE Bit, Set the Output State , the Output Polarity */
    115              TIM2->CCER1 &= (uint8_t)(~( TIM2_CCER1_CC1E | TIM2_CCER1_CC1P));
   \                     ??TIM2_OC1Init_2:
   \   000078 C6530A                LD        A, L:0x530a
   \   00007B A4FC                  AND       A, #0xfc
   \   00007D C7530A                LD        L:0x530a, A
    116              /* Set the Output State &  Set the Output Polarity  */
    117              TIM2->CCER1 |= (uint8_t)((uint8_t)(TIM2_OutputState & TIM2_CCER1_CC1E ) | 
    118                                       (uint8_t)(TIM2_OCPolarity & TIM2_CCER1_CC1P));
   \   000080 B600                  LD        A, S:?b10
   \   000082 A402                  AND       A, #0x2
   \   000084 88                    PUSH      A
   \   000085 B600                  LD        A, S:?b9
   \   000087 A401                  AND       A, #0x1
   \   000089 B700                  LD        S:?b1, A
   \   00008B 84                    POP       A
   \   00008C BA00                  OR        A, S:?b1
   \   00008E CA530A                OR        A, L:0x530a
   \   000091 C7530A                LD        L:0x530a, A
    119          
    120              /* Reset the Output Compare Bits  & Set the Ouput Compare Mode */
    121              TIM2->CCMR1 = (uint8_t)((uint8_t)(TIM2->CCMR1 & (uint8_t)(~TIM2_CCMR_OCM)) |
    122                                      (uint8_t)TIM2_OCMode);
   \   000094 C65307                LD        A, L:0x5307
   \   000097 A48F                  AND       A, #0x8f
   \   000099 BA00                  OR        A, S:?b8
   \   00009B C75307                LD        L:0x5307, A
    123          
    124              /* Set the Pulse value */
    125              TIM2->CCR1H = (uint8_t)(TIM2_Pulse >> 8);
   \   00009E BE00                  LDW       X, S:?w6
   \   0000A0 4F                    CLR       A
   \   0000A1 01                    RRWA      X, A
   \   0000A2 9F                    LD        A, XL
   \   0000A3 C75311                LD        L:0x5311, A
    126              TIM2->CCR1L = (uint8_t)(TIM2_Pulse);
   \   0000A6 B600                  LD        A, S:?b13
   \   0000A8 C75312                LD        L:0x5312, A
    127          }
   \   0000AB 320000                POP       S:?b10
   \   0000AE 8D000000              CALLF     L:?pop_w6
   \   0000B2 AC000000              JPF       L:?epilogue_w4
    128          
    129          
    130          /**
    131            * @brief  Initializes the TIM2 Channel2 according to the specified parameters.
    132            * @param   TIM2_OCMode specifies the Output Compare mode  from @ref TIM2_OCMode_TypeDef.
    133            * @param   TIM2_OutputState specifies the Output State  from @ref TIM2_OutputState_TypeDef.
    134            * @param   TIM2_Pulse specifies the Pulse width  value.
    135            * @param   TIM2_OCPolarity specifies the Output Compare Polarity  from @ref TIM2_OCPolarity_TypeDef.
    136            * @retval None
    137            */

   \                                 In section .far_func.text, align 1
    138          void TIM2_OC2Init(TIM2_OCMode_TypeDef TIM2_OCMode,
    139                            TIM2_OutputState_TypeDef TIM2_OutputState,
    140                            uint16_t TIM2_Pulse,
    141                            TIM2_OCPolarity_TypeDef TIM2_OCPolarity)
    142          {
   \                     TIM2_OC2Init:
   \   000000 8D000000              CALLF     L:?push_w4
   \   000004 8D000000              CALLF     L:?push_w6
   \   000008 3B0000                PUSH      S:?b10
   \   00000B B700                  LD        S:?b8, A
   \   00000D 450000                MOV       S:?b9, S:?b0
   \   000010 BF00                  LDW       S:?w6, X
   \   000012 450000                MOV       S:?b10, S:?b1
    143              /* Check the parameters */
    144              assert_param(IS_TIM2_OC_MODE_OK(TIM2_OCMode));
   \   000015 3D00                  TNZ       S:?b8
   \   000017 272D                  JREQ      L:??TIM2_OC2Init_0
   \   000019 B600                  LD        A, S:?b8
   \   00001B A110                  CP        A, #0x10
   \   00001D 2727                  JREQ      L:??TIM2_OC2Init_0
   \   00001F B600                  LD        A, S:?b8
   \   000021 A120                  CP        A, #0x20
   \   000023 2721                  JREQ      L:??TIM2_OC2Init_0
   \   000025 B600                  LD        A, S:?b8
   \   000027 A130                  CP        A, #0x30
   \   000029 271B                  JREQ      L:??TIM2_OC2Init_0
   \   00002B B600                  LD        A, S:?b8
   \   00002D A160                  CP        A, #0x60
   \   00002F 2715                  JREQ      L:??TIM2_OC2Init_0
   \   000031 B600                  LD        A, S:?b8
   \   000033 A170                  CP        A, #0x70
   \   000035 270F                  JREQ      L:??TIM2_OC2Init_0
   \   000037 AE0090                LDW       X, #0x90
   \   00003A BF00                  LDW       S:?w1, X
   \   00003C 5F                    CLRW      X
   \   00003D BF00                  LDW       S:?w0, X
   \   00003F AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   000042 8D000000              CALLF     assert_failed
    145              assert_param(IS_TIM2_OUTPUT_STATE_OK(TIM2_OutputState));
   \                     ??TIM2_OC2Init_0:
   \   000046 3D00                  TNZ       S:?b9
   \   000048 2715                  JREQ      L:??TIM2_OC2Init_1
   \   00004A B600                  LD        A, S:?b9
   \   00004C A111                  CP        A, #0x11
   \   00004E 270F                  JREQ      L:??TIM2_OC2Init_1
   \   000050 AE0091                LDW       X, #0x91
   \   000053 BF00                  LDW       S:?w1, X
   \   000055 5F                    CLRW      X
   \   000056 BF00                  LDW       S:?w0, X
   \   000058 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   00005B 8D000000              CALLF     assert_failed
    146              assert_param(IS_TIM2_OC_POLARITY_OK(TIM2_OCPolarity));
   \                     ??TIM2_OC2Init_1:
   \   00005F 3D00                  TNZ       S:?b10
   \   000061 2715                  JREQ      L:??TIM2_OC2Init_2
   \   000063 B600                  LD        A, S:?b10
   \   000065 A122                  CP        A, #0x22
   \   000067 270F                  JREQ      L:??TIM2_OC2Init_2
   \   000069 AE0092                LDW       X, #0x92
   \   00006C BF00                  LDW       S:?w1, X
   \   00006E 5F                    CLRW      X
   \   00006F BF00                  LDW       S:?w0, X
   \   000071 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   000074 8D000000              CALLF     assert_failed
    147          
    148          
    149              /* Disable the Channel 1: Reset the CCE Bit, Set the Output State, the Output Polarity */
    150              TIM2->CCER1 &= (uint8_t)(~( TIM2_CCER1_CC2E |  TIM2_CCER1_CC2P ));
   \                     ??TIM2_OC2Init_2:
   \   000078 C6530A                LD        A, L:0x530a
   \   00007B A4CF                  AND       A, #0xcf
   \   00007D C7530A                LD        L:0x530a, A
    151              /* Set the Output State & Set the Output Polarity */
    152              TIM2->CCER1 |= (uint8_t)((uint8_t)(TIM2_OutputState  & TIM2_CCER1_CC2E ) |
    153                                  (uint8_t)(TIM2_OCPolarity & TIM2_CCER1_CC2P));
   \   000080 B600                  LD        A, S:?b10
   \   000082 A420                  AND       A, #0x20
   \   000084 88                    PUSH      A
   \   000085 B600                  LD        A, S:?b9
   \   000087 A410                  AND       A, #0x10
   \   000089 B700                  LD        S:?b1, A
   \   00008B 84                    POP       A
   \   00008C BA00                  OR        A, S:?b1
   \   00008E CA530A                OR        A, L:0x530a
   \   000091 C7530A                LD        L:0x530a, A
    154          
    155          
    156              /* Reset the Output Compare Bits & Set the Output Compare Mode */
    157              TIM2->CCMR2 = (uint8_t)((uint8_t)(TIM2->CCMR2 & (uint8_t)(~TIM2_CCMR_OCM)) | 
    158                                      (uint8_t)TIM2_OCMode);
   \   000094 C65308                LD        A, L:0x5308
   \   000097 A48F                  AND       A, #0x8f
   \   000099 BA00                  OR        A, S:?b8
   \   00009B C75308                LD        L:0x5308, A
    159          
    160          
    161              /* Set the Pulse value */
    162              TIM2->CCR2H = (uint8_t)(TIM2_Pulse >> 8);
   \   00009E BE00                  LDW       X, S:?w6
   \   0000A0 4F                    CLR       A
   \   0000A1 01                    RRWA      X, A
   \   0000A2 9F                    LD        A, XL
   \   0000A3 C75313                LD        L:0x5313, A
    163              TIM2->CCR2L = (uint8_t)(TIM2_Pulse);
   \   0000A6 B600                  LD        A, S:?b13
   \   0000A8 C75314                LD        L:0x5314, A
    164          }
   \   0000AB 320000                POP       S:?b10
   \   0000AE 8D000000              CALLF     L:?pop_w6
   \   0000B2 AC000000              JPF       L:?epilogue_w4
    165          
    166          
    167          /**
    168            * @brief  Initializes the TIM2 Channel3 according to the specified parameters.
    169            * @param   TIM2_OCMode specifies the Output Compare mode from @ref TIM2_OCMode_TypeDef.
    170            * @param   TIM2_OutputState specifies the Output State from @ref TIM2_OutputState_TypeDef.
    171            * @param   TIM2_Pulse specifies the Pulse width value.
    172            * @param   TIM2_OCPolarity specifies the Output Compare Polarity  from @ref TIM2_OCPolarity_TypeDef.
    173            * @retval None
    174            */

   \                                 In section .far_func.text, align 1
    175          void TIM2_OC3Init(TIM2_OCMode_TypeDef TIM2_OCMode,
    176                            TIM2_OutputState_TypeDef TIM2_OutputState,
    177                            uint16_t TIM2_Pulse,
    178                            TIM2_OCPolarity_TypeDef TIM2_OCPolarity)
    179          {
   \                     TIM2_OC3Init:
   \   000000 8D000000              CALLF     L:?push_w4
   \   000004 8D000000              CALLF     L:?push_w6
   \   000008 3B0000                PUSH      S:?b10
   \   00000B B700                  LD        S:?b8, A
   \   00000D 450000                MOV       S:?b9, S:?b0
   \   000010 BF00                  LDW       S:?w6, X
   \   000012 450000                MOV       S:?b10, S:?b1
    180              /* Check the parameters */
    181              assert_param(IS_TIM2_OC_MODE_OK(TIM2_OCMode));
   \   000015 3D00                  TNZ       S:?b8
   \   000017 272D                  JREQ      L:??TIM2_OC3Init_0
   \   000019 B600                  LD        A, S:?b8
   \   00001B A110                  CP        A, #0x10
   \   00001D 2727                  JREQ      L:??TIM2_OC3Init_0
   \   00001F B600                  LD        A, S:?b8
   \   000021 A120                  CP        A, #0x20
   \   000023 2721                  JREQ      L:??TIM2_OC3Init_0
   \   000025 B600                  LD        A, S:?b8
   \   000027 A130                  CP        A, #0x30
   \   000029 271B                  JREQ      L:??TIM2_OC3Init_0
   \   00002B B600                  LD        A, S:?b8
   \   00002D A160                  CP        A, #0x60
   \   00002F 2715                  JREQ      L:??TIM2_OC3Init_0
   \   000031 B600                  LD        A, S:?b8
   \   000033 A170                  CP        A, #0x70
   \   000035 270F                  JREQ      L:??TIM2_OC3Init_0
   \   000037 AE00B5                LDW       X, #0xb5
   \   00003A BF00                  LDW       S:?w1, X
   \   00003C 5F                    CLRW      X
   \   00003D BF00                  LDW       S:?w0, X
   \   00003F AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   000042 8D000000              CALLF     assert_failed
    182              assert_param(IS_TIM2_OUTPUT_STATE_OK(TIM2_OutputState));
   \                     ??TIM2_OC3Init_0:
   \   000046 3D00                  TNZ       S:?b9
   \   000048 2715                  JREQ      L:??TIM2_OC3Init_1
   \   00004A B600                  LD        A, S:?b9
   \   00004C A111                  CP        A, #0x11
   \   00004E 270F                  JREQ      L:??TIM2_OC3Init_1
   \   000050 AE00B6                LDW       X, #0xb6
   \   000053 BF00                  LDW       S:?w1, X
   \   000055 5F                    CLRW      X
   \   000056 BF00                  LDW       S:?w0, X
   \   000058 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   00005B 8D000000              CALLF     assert_failed
    183              assert_param(IS_TIM2_OC_POLARITY_OK(TIM2_OCPolarity));
   \                     ??TIM2_OC3Init_1:
   \   00005F 3D00                  TNZ       S:?b10
   \   000061 2715                  JREQ      L:??TIM2_OC3Init_2
   \   000063 B600                  LD        A, S:?b10
   \   000065 A122                  CP        A, #0x22
   \   000067 270F                  JREQ      L:??TIM2_OC3Init_2
   \   000069 AE00B7                LDW       X, #0xb7
   \   00006C BF00                  LDW       S:?w1, X
   \   00006E 5F                    CLRW      X
   \   00006F BF00                  LDW       S:?w0, X
   \   000071 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   000074 8D000000              CALLF     assert_failed
    184              /* Disable the Channel 1: Reset the CCE Bit, Set the Output State, the Output Polarity */
    185              TIM2->CCER2 &= (uint8_t)(~( TIM2_CCER2_CC3E  | TIM2_CCER2_CC3P));
   \                     ??TIM2_OC3Init_2:
   \   000078 C6530B                LD        A, L:0x530b
   \   00007B A4FC                  AND       A, #0xfc
   \   00007D C7530B                LD        L:0x530b, A
    186              /* Set the Output State & Set the Output Polarity */
    187              TIM2->CCER2 |= (uint8_t)((uint8_t)(TIM2_OutputState & TIM2_CCER2_CC3E) |  
    188                                       (uint8_t)(TIM2_OCPolarity & TIM2_CCER2_CC3P));
   \   000080 B600                  LD        A, S:?b10
   \   000082 A402                  AND       A, #0x2
   \   000084 88                    PUSH      A
   \   000085 B600                  LD        A, S:?b9
   \   000087 A401                  AND       A, #0x1
   \   000089 B700                  LD        S:?b1, A
   \   00008B 84                    POP       A
   \   00008C BA00                  OR        A, S:?b1
   \   00008E CA530B                OR        A, L:0x530b
   \   000091 C7530B                LD        L:0x530b, A
    189          
    190              /* Reset the Output Compare Bits & Set the Output Compare Mode */
    191              TIM2->CCMR3 = (uint8_t)((uint8_t)(TIM2->CCMR3 & (uint8_t)(~TIM2_CCMR_OCM)) |
    192                                      (uint8_t)TIM2_OCMode);
   \   000094 C65309                LD        A, L:0x5309
   \   000097 A48F                  AND       A, #0x8f
   \   000099 BA00                  OR        A, S:?b8
   \   00009B C75309                LD        L:0x5309, A
    193          
    194              /* Set the Pulse value */
    195              TIM2->CCR3H = (uint8_t)(TIM2_Pulse >> 8);
   \   00009E BE00                  LDW       X, S:?w6
   \   0000A0 4F                    CLR       A
   \   0000A1 01                    RRWA      X, A
   \   0000A2 9F                    LD        A, XL
   \   0000A3 C75315                LD        L:0x5315, A
    196              TIM2->CCR3L = (uint8_t)(TIM2_Pulse);
   \   0000A6 B600                  LD        A, S:?b13
   \   0000A8 C75316                LD        L:0x5316, A
    197          
    198          }
   \   0000AB 320000                POP       S:?b10
   \   0000AE 8D000000              CALLF     L:?pop_w6
   \   0000B2 AC000000              JPF       L:?epilogue_w4
    199          
    200          
    201          /**
    202            * @brief  Initializes the TIM2 peripheral according to the specified parameters.
    203            * @param    TIM2_Channel specifies the Input Capture Channel from @ref TIM2_Channel_TypeDef.
    204            * @param   TIM2_ICPolarity specifies the Input Capture Polarity from @ref TIM2_ICPolarity_TypeDef.
    205            * @param   TIM2_ICSelection specifies the Input Capture Selection from @ref TIM2_ICSelection_TypeDef.
    206            * @param   TIM2_ICPrescaler specifies the Input Capture Prescaler from @ref TIM2_ICPSC_TypeDef.
    207            * @param   TIM2_ICFilter specifies the Input Capture Filter value (value can be an integer from 0x00 to 0x0F).
    208            * @retval None
    209            */

   \                                 In section .far_func.text, align 1
    210          void TIM2_ICInit(TIM2_Channel_TypeDef TIM2_Channel,
    211                           TIM2_ICPolarity_TypeDef TIM2_ICPolarity,
    212                           TIM2_ICSelection_TypeDef TIM2_ICSelection,
    213                           TIM2_ICPSC_TypeDef TIM2_ICPrescaler,
    214                           uint8_t TIM2_ICFilter)
    215          {
   \                     TIM2_ICInit:
   \   000000 8D000000              CALLF     L:?push_l2
   \   000004 3B0000                PUSH      S:?b12
   \   000007 B700                  LD        S:?b12, A
   \   000009 450000                MOV       S:?b8, S:?b0
   \   00000C 450000                MOV       S:?b9, S:?b1
   \   00000F 450000                MOV       S:?b10, S:?b2
   \   000012 450000                MOV       S:?b11, S:?b3
    216              /* Check the parameters */
    217              assert_param(IS_TIM2_CHANNEL_OK(TIM2_Channel));
   \   000015 3D00                  TNZ       S:?b12
   \   000017 271B                  JREQ      L:??TIM2_ICInit_0
   \   000019 B600                  LD        A, S:?b12
   \   00001B A101                  CP        A, #0x1
   \   00001D 2715                  JREQ      L:??TIM2_ICInit_0
   \   00001F B600                  LD        A, S:?b12
   \   000021 A102                  CP        A, #0x2
   \   000023 270F                  JREQ      L:??TIM2_ICInit_0
   \   000025 AE00D9                LDW       X, #0xd9
   \   000028 BF00                  LDW       S:?w1, X
   \   00002A 5F                    CLRW      X
   \   00002B BF00                  LDW       S:?w0, X
   \   00002D AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   000030 8D000000              CALLF     assert_failed
    218              assert_param(IS_TIM2_IC_POLARITY_OK(TIM2_ICPolarity));
   \                     ??TIM2_ICInit_0:
   \   000034 3D00                  TNZ       S:?b8
   \   000036 2715                  JREQ      L:??TIM2_ICInit_1
   \   000038 B600                  LD        A, S:?b8
   \   00003A A144                  CP        A, #0x44
   \   00003C 270F                  JREQ      L:??TIM2_ICInit_1
   \   00003E AE00DA                LDW       X, #0xda
   \   000041 BF00                  LDW       S:?w1, X
   \   000043 5F                    CLRW      X
   \   000044 BF00                  LDW       S:?w0, X
   \   000046 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   000049 8D000000              CALLF     assert_failed
    219              assert_param(IS_TIM2_IC_SELECTION_OK(TIM2_ICSelection));
   \                     ??TIM2_ICInit_1:
   \   00004D B600                  LD        A, S:?b9
   \   00004F A101                  CP        A, #0x1
   \   000051 271B                  JREQ      L:??TIM2_ICInit_2
   \   000053 B600                  LD        A, S:?b9
   \   000055 A102                  CP        A, #0x2
   \   000057 2715                  JREQ      L:??TIM2_ICInit_2
   \   000059 B600                  LD        A, S:?b9
   \   00005B A103                  CP        A, #0x3
   \   00005D 270F                  JREQ      L:??TIM2_ICInit_2
   \   00005F AE00DB                LDW       X, #0xdb
   \   000062 BF00                  LDW       S:?w1, X
   \   000064 5F                    CLRW      X
   \   000065 BF00                  LDW       S:?w0, X
   \   000067 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   00006A 8D000000              CALLF     assert_failed
    220              assert_param(IS_TIM2_IC_PRESCALER_OK(TIM2_ICPrescaler));
   \                     ??TIM2_ICInit_2:
   \   00006E 3D00                  TNZ       S:?b10
   \   000070 2721                  JREQ      L:??TIM2_ICInit_3
   \   000072 B600                  LD        A, S:?b10
   \   000074 A104                  CP        A, #0x4
   \   000076 271B                  JREQ      L:??TIM2_ICInit_3
   \   000078 B600                  LD        A, S:?b10
   \   00007A A108                  CP        A, #0x8
   \   00007C 2715                  JREQ      L:??TIM2_ICInit_3
   \   00007E B600                  LD        A, S:?b10
   \   000080 A10C                  CP        A, #0xc
   \   000082 270F                  JREQ      L:??TIM2_ICInit_3
   \   000084 AE00DC                LDW       X, #0xdc
   \   000087 BF00                  LDW       S:?w1, X
   \   000089 5F                    CLRW      X
   \   00008A BF00                  LDW       S:?w0, X
   \   00008C AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   00008F 8D000000              CALLF     assert_failed
    221              assert_param(IS_TIM2_IC_FILTER_OK(TIM2_ICFilter));
   \                     ??TIM2_ICInit_3:
   \   000093 B600                  LD        A, S:?b11
   \   000095 A110                  CP        A, #0x10
   \   000097 250F                  JRC       L:??TIM2_ICInit_4
   \   000099 AE00DD                LDW       X, #0xdd
   \   00009C BF00                  LDW       S:?w1, X
   \   00009E 5F                    CLRW      X
   \   00009F BF00                  LDW       S:?w0, X
   \   0000A1 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   0000A4 8D000000              CALLF     assert_failed
    222          
    223              if (TIM2_Channel == TIM2_CHANNEL_1)
   \                     ??TIM2_ICInit_4:
   \   0000A8 3D00                  TNZ       S:?b12
   \   0000AA 2614                  JRNE      L:??TIM2_ICInit_5
    224              {
    225                  /* TI1 Configuration */
    226                  TI1_Config((uint8_t)TIM2_ICPolarity,
    227                             (uint8_t)TIM2_ICSelection,
    228                             (uint8_t)TIM2_ICFilter);
   \   0000AC 450000                MOV       S:?b1, S:?b11
   \   0000AF 450000                MOV       S:?b0, S:?b9
   \   0000B2 B600                  LD        A, S:?b8
   \   0000B4 8D000000              CALLF     TI1_Config
    229          
    230                  /* Set the Input Capture Prescaler value */
    231                  TIM2_SetIC1Prescaler(TIM2_ICPrescaler);
   \   0000B8 B600                  LD        A, S:?b10
   \   0000BA 8D000000              CALLF     TIM2_SetIC1Prescaler
   \   0000BE 202C                  JRA       L:??TIM2_ICInit_6
    232              }
    233              else if (TIM2_Channel == TIM2_CHANNEL_2)
   \                     ??TIM2_ICInit_5:
   \   0000C0 B600                  LD        A, S:?b12
   \   0000C2 A101                  CP        A, #0x1
   \   0000C4 2614                  JRNE      L:??TIM2_ICInit_7
    234              {
    235                  /* TI2 Configuration */
    236                  TI2_Config((uint8_t)TIM2_ICPolarity,
    237                             (uint8_t)TIM2_ICSelection,
    238                             (uint8_t)TIM2_ICFilter);
   \   0000C6 450000                MOV       S:?b1, S:?b11
   \   0000C9 450000                MOV       S:?b0, S:?b9
   \   0000CC B600                  LD        A, S:?b8
   \   0000CE 8D000000              CALLF     TI2_Config
    239          
    240                  /* Set the Input Capture Prescaler value */
    241                  TIM2_SetIC2Prescaler(TIM2_ICPrescaler);
   \   0000D2 B600                  LD        A, S:?b10
   \   0000D4 8D000000              CALLF     TIM2_SetIC2Prescaler
   \   0000D8 2012                  JRA       L:??TIM2_ICInit_6
    242              }
    243              else
    244              {
    245                  /* TI3 Configuration */
    246                  TI3_Config((uint8_t)TIM2_ICPolarity,
    247                             (uint8_t)TIM2_ICSelection,
    248                             (uint8_t)TIM2_ICFilter);
   \                     ??TIM2_ICInit_7:
   \   0000DA 450000                MOV       S:?b1, S:?b11
   \   0000DD 450000                MOV       S:?b0, S:?b9
   \   0000E0 B600                  LD        A, S:?b8
   \   0000E2 8D000000              CALLF     TI3_Config
    249          
    250                  /* Set the Input Capture Prescaler value */
    251                  TIM2_SetIC3Prescaler(TIM2_ICPrescaler);
   \   0000E6 B600                  LD        A, S:?b10
   \   0000E8 8D000000              CALLF     TIM2_SetIC3Prescaler
    252              }
    253          }
   \                     ??TIM2_ICInit_6:
   \   0000EC 320000                POP       S:?b12
   \   0000EF AC000000              JPF       L:?epilogue_l2
    254          
    255          
    256          /**
    257            * @brief  Configures the TIM2 peripheral in PWM Input Mode according to the specified parameters.
    258              * @param    TIM2_Channel specifies the Input Capture Channel from @ref TIM2_Channel_TypeDef.
    259            * @param   TIM2_ICPolarity specifies the Input Capture Polarity from @ref TIM2_ICPolarity_TypeDef.
    260            * @param   TIM2_ICSelection specifies the Input Capture Selection from @ref TIM2_ICSelection_TypeDef.
    261            * @param   TIM2_ICPrescaler specifies the Input Capture Prescaler from @ref TIM2_ICPSC_TypeDef.
    262            * @param   TIM2_ICFilter specifies the Input Capture Filter value (value can be an integer from 0x00 to 0x0F).
    263            * @retval None
    264            */

   \                                 In section .far_func.text, align 1
    265          void TIM2_PWMIConfig(TIM2_Channel_TypeDef TIM2_Channel,
    266                               TIM2_ICPolarity_TypeDef TIM2_ICPolarity,
    267                               TIM2_ICSelection_TypeDef TIM2_ICSelection,
    268                               TIM2_ICPSC_TypeDef TIM2_ICPrescaler,
    269                               uint8_t TIM2_ICFilter)
    270          {
   \                     TIM2_PWMIConfig:
   \   000000 8D000000              CALLF     L:?push_l2
   \   000004 8D000000              CALLF     L:?push_w6
   \   000008 3B0000                PUSH      S:?b14
   \   00000B B700                  LD        S:?b12, A
   \   00000D 450000                MOV       S:?b8, S:?b0
   \   000010 450000                MOV       S:?b9, S:?b1
   \   000013 450000                MOV       S:?b10, S:?b2
   \   000016 450000                MOV       S:?b11, S:?b3
    271              uint8_t icpolarity = (uint8_t)TIM2_ICPOLARITY_RISING;
   \   000019 3F00                  CLR       S:?b14
    272              uint8_t icselection = (uint8_t)TIM2_ICSELECTION_DIRECTTI;
   \   00001B 35010000              MOV       S:?b13, #0x1
    273          
    274              /* Check the parameters */
    275              assert_param(IS_TIM2_PWMI_CHANNEL_OK(TIM2_Channel));
   \   00001F 3D00                  TNZ       S:?b12
   \   000021 2715                  JREQ      L:??TIM2_PWMIConfig_0
   \   000023 B600                  LD        A, S:?b12
   \   000025 A101                  CP        A, #0x1
   \   000027 270F                  JREQ      L:??TIM2_PWMIConfig_0
   \   000029 AE0113                LDW       X, #0x113
   \   00002C BF00                  LDW       S:?w1, X
   \   00002E 5F                    CLRW      X
   \   00002F BF00                  LDW       S:?w0, X
   \   000031 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   000034 8D000000              CALLF     assert_failed
    276              assert_param(IS_TIM2_IC_POLARITY_OK(TIM2_ICPolarity));
   \                     ??TIM2_PWMIConfig_0:
   \   000038 3D00                  TNZ       S:?b8
   \   00003A 2715                  JREQ      L:??TIM2_PWMIConfig_1
   \   00003C B600                  LD        A, S:?b8
   \   00003E A144                  CP        A, #0x44
   \   000040 270F                  JREQ      L:??TIM2_PWMIConfig_1
   \   000042 AE0114                LDW       X, #0x114
   \   000045 BF00                  LDW       S:?w1, X
   \   000047 5F                    CLRW      X
   \   000048 BF00                  LDW       S:?w0, X
   \   00004A AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   00004D 8D000000              CALLF     assert_failed
    277              assert_param(IS_TIM2_IC_SELECTION_OK(TIM2_ICSelection));
   \                     ??TIM2_PWMIConfig_1:
   \   000051 B600                  LD        A, S:?b9
   \   000053 A101                  CP        A, #0x1
   \   000055 271B                  JREQ      L:??TIM2_PWMIConfig_2
   \   000057 B600                  LD        A, S:?b9
   \   000059 A102                  CP        A, #0x2
   \   00005B 2715                  JREQ      L:??TIM2_PWMIConfig_2
   \   00005D B600                  LD        A, S:?b9
   \   00005F A103                  CP        A, #0x3
   \   000061 270F                  JREQ      L:??TIM2_PWMIConfig_2
   \   000063 AE0115                LDW       X, #0x115
   \   000066 BF00                  LDW       S:?w1, X
   \   000068 5F                    CLRW      X
   \   000069 BF00                  LDW       S:?w0, X
   \   00006B AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   00006E 8D000000              CALLF     assert_failed
    278              assert_param(IS_TIM2_IC_PRESCALER_OK(TIM2_ICPrescaler));
   \                     ??TIM2_PWMIConfig_2:
   \   000072 3D00                  TNZ       S:?b10
   \   000074 2721                  JREQ      L:??TIM2_PWMIConfig_3
   \   000076 B600                  LD        A, S:?b10
   \   000078 A104                  CP        A, #0x4
   \   00007A 271B                  JREQ      L:??TIM2_PWMIConfig_3
   \   00007C B600                  LD        A, S:?b10
   \   00007E A108                  CP        A, #0x8
   \   000080 2715                  JREQ      L:??TIM2_PWMIConfig_3
   \   000082 B600                  LD        A, S:?b10
   \   000084 A10C                  CP        A, #0xc
   \   000086 270F                  JREQ      L:??TIM2_PWMIConfig_3
   \   000088 AE0116                LDW       X, #0x116
   \   00008B BF00                  LDW       S:?w1, X
   \   00008D 5F                    CLRW      X
   \   00008E BF00                  LDW       S:?w0, X
   \   000090 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   000093 8D000000              CALLF     assert_failed
    279          
    280              /* Select the Opposite Input Polarity */
    281              if (TIM2_ICPolarity != TIM2_ICPOLARITY_FALLING)
   \                     ??TIM2_PWMIConfig_3:
   \   000097 B600                  LD        A, S:?b8
   \   000099 A144                  CP        A, #0x44
   \   00009B 2706                  JREQ      L:??TIM2_PWMIConfig_4
    282              {
    283                  icpolarity = (uint8_t)TIM2_ICPOLARITY_FALLING;
   \   00009D 35440000              MOV       S:?b14, #0x44
   \   0000A1 2002                  JRA       L:??TIM2_PWMIConfig_5
    284              }
    285              else
    286              {
    287                  icpolarity = (uint8_t)TIM2_ICPOLARITY_RISING;
   \                     ??TIM2_PWMIConfig_4:
   \   0000A3 3F00                  CLR       S:?b14
    288              }
    289          
    290              /* Select the Opposite Input */
    291              if (TIM2_ICSelection == TIM2_ICSELECTION_DIRECTTI)
   \                     ??TIM2_PWMIConfig_5:
   \   0000A5 B600                  LD        A, S:?b9
   \   0000A7 A101                  CP        A, #0x1
   \   0000A9 2606                  JRNE      L:??TIM2_PWMIConfig_6
    292              {
    293                  icselection = (uint8_t)TIM2_ICSELECTION_INDIRECTTI;
   \   0000AB 35020000              MOV       S:?b13, #0x2
   \   0000AF 2004                  JRA       L:??TIM2_PWMIConfig_7
    294              }
    295              else
    296              {
    297                  icselection = (uint8_t)TIM2_ICSELECTION_DIRECTTI;
   \                     ??TIM2_PWMIConfig_6:
   \   0000B1 35010000              MOV       S:?b13, #0x1
    298              }
    299          
    300              if (TIM2_Channel == TIM2_CHANNEL_1)
   \                     ??TIM2_PWMIConfig_7:
   \   0000B5 3D00                  TNZ       S:?b12
   \   0000B7 2626                  JRNE      L:??TIM2_PWMIConfig_8
    301              {
    302                  /* TI1 Configuration */
    303                  TI1_Config((uint8_t)TIM2_ICPolarity, (uint8_t)TIM2_ICSelection,
    304                             (uint8_t)TIM2_ICFilter);
   \   0000B9 450000                MOV       S:?b1, S:?b11
   \   0000BC 450000                MOV       S:?b0, S:?b9
   \   0000BF B600                  LD        A, S:?b8
   \   0000C1 8D000000              CALLF     TI1_Config
    305          
    306                  /* Set the Input Capture Prescaler value */
    307                  TIM2_SetIC1Prescaler(TIM2_ICPrescaler);
   \   0000C5 B600                  LD        A, S:?b10
   \   0000C7 8D000000              CALLF     TIM2_SetIC1Prescaler
    308          
    309                  /* TI2 Configuration */
    310                  TI2_Config(icpolarity, icselection, TIM2_ICFilter);
   \   0000CB 450000                MOV       S:?b1, S:?b11
   \   0000CE 450000                MOV       S:?b0, S:?b13
   \   0000D1 B600                  LD        A, S:?b14
   \   0000D3 8D000000              CALLF     TI2_Config
    311          
    312                  /* Set the Input Capture Prescaler value */
    313                  TIM2_SetIC2Prescaler(TIM2_ICPrescaler);
   \   0000D7 B600                  LD        A, S:?b10
   \   0000D9 8D000000              CALLF     TIM2_SetIC2Prescaler
   \   0000DD 2024                  JRA       L:??TIM2_PWMIConfig_9
    314              }
    315              else
    316              {
    317                  /* TI2 Configuration */
    318                  TI2_Config((uint8_t)TIM2_ICPolarity, (uint8_t)TIM2_ICSelection,
    319                             (uint8_t)TIM2_ICFilter);
   \                     ??TIM2_PWMIConfig_8:
   \   0000DF 450000                MOV       S:?b1, S:?b11
   \   0000E2 450000                MOV       S:?b0, S:?b9
   \   0000E5 B600                  LD        A, S:?b8
   \   0000E7 8D000000              CALLF     TI2_Config
    320          
    321                  /* Set the Input Capture Prescaler value */
    322                  TIM2_SetIC2Prescaler(TIM2_ICPrescaler);
   \   0000EB B600                  LD        A, S:?b10
   \   0000ED 8D000000              CALLF     TIM2_SetIC2Prescaler
    323          
    324                  /* TI1 Configuration */
    325                  TI1_Config((uint8_t)icpolarity, icselection, (uint8_t)TIM2_ICFilter);
   \   0000F1 450000                MOV       S:?b1, S:?b11
   \   0000F4 450000                MOV       S:?b0, S:?b13
   \   0000F7 B600                  LD        A, S:?b14
   \   0000F9 8D000000              CALLF     TI1_Config
    326          
    327                  /* Set the Input Capture Prescaler value */
    328                  TIM2_SetIC1Prescaler(TIM2_ICPrescaler);
   \   0000FD B600                  LD        A, S:?b10
   \   0000FF 8D000000              CALLF     TIM2_SetIC1Prescaler
    329              }
    330          }
   \                     ??TIM2_PWMIConfig_9:
   \   000103 320000                POP       S:?b14
   \   000106 AC000000              JPF       L:?epilogue_l2_w6
    331          
    332          
    333          /**
    334            * @brief  Enables or disables the TIM2 peripheral.
    335            * @param   NewState new state of the TIM2 peripheral. This parameter can
    336            * be ENABLE or DISABLE.
    337            * @retval None
    338            */

   \                                 In section .far_func.text, align 1
    339          void TIM2_Cmd(FunctionalState NewState)
    340          {
   \                     TIM2_Cmd:
   \   000000 3B0000                PUSH      S:?b8
   \   000003 B700                  LD        S:?b8, A
    341              /* Check the parameters */
    342              assert_param(IS_FUNCTIONALSTATE_OK(NewState));
   \   000005 3D00                  TNZ       S:?b8
   \   000007 2715                  JREQ      L:??TIM2_Cmd_0
   \   000009 B600                  LD        A, S:?b8
   \   00000B A101                  CP        A, #0x1
   \   00000D 270F                  JREQ      L:??TIM2_Cmd_0
   \   00000F AE0156                LDW       X, #0x156
   \   000012 BF00                  LDW       S:?w1, X
   \   000014 5F                    CLRW      X
   \   000015 BF00                  LDW       S:?w0, X
   \   000017 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   00001A 8D000000              CALLF     assert_failed
    343          
    344              /* set or Reset the CEN Bit */
    345              if (NewState != DISABLE)
   \                     ??TIM2_Cmd_0:
   \   00001E 3D00                  TNZ       S:?b8
   \   000020 2706                  JREQ      L:??TIM2_Cmd_1
    346              {
    347                  TIM2->CR1 |= (uint8_t)TIM2_CR1_CEN;
   \   000022 72105300              BSET      L:0x5300, #0x0
   \   000026 2004                  JRA       L:??TIM2_Cmd_2
    348              }
    349              else
    350              {
    351                  TIM2->CR1 &= (uint8_t)(~TIM2_CR1_CEN);
   \                     ??TIM2_Cmd_1:
   \   000028 72115300              BRES      L:0x5300, #0x0
    352              }
    353          }
   \                     ??TIM2_Cmd_2:
   \   00002C 320000                POP       S:?b8
   \   00002F 87                    RETF
    354          
    355          
    356          /**
    357            * @brief  Enables or disables the specified TIM2 interrupts.
    358            * @param   NewState new state of the TIM2 peripheral.
    359            * This parameter can be: ENABLE or DISABLE.
    360            * @param   TIM2_IT specifies the TIM2 interrupts sources to be enabled or disabled.
    361            * This parameter can be any combination of the following values:
    362            *                       - TIM2_IT_UPDATE: TIM2 update Interrupt source
    363            *                       - TIM2_IT_CC1: TIM2 Capture Compare 1 Interrupt source
    364            *                       - TIM2_IT_CC2: TIM2 Capture Compare 2 Interrupt source
    365            *                       - TIM2_IT_CC3: TIM2 Capture Compare 3 Interrupt source
    366            * @param   NewState new state of the TIM2 peripheral.
    367            * @retval None
    368            */

   \                                 In section .far_func.text, align 1
    369          void TIM2_ITConfig(TIM2_IT_TypeDef TIM2_IT, FunctionalState NewState)
    370          {
   \                     TIM2_ITConfig:
   \   000000 8D000000              CALLF     L:?push_w4
   \   000004 B700                  LD        S:?b8, A
   \   000006 450000                MOV       S:?b9, S:?b0
    371              /* Check the parameters */
    372              assert_param(IS_TIM2_IT_OK(TIM2_IT));
   \   000009 3D00                  TNZ       S:?b8
   \   00000B 2706                  JREQ      L:??TIM2_ITConfig_0
   \   00000D B600                  LD        A, S:?b8
   \   00000F A110                  CP        A, #0x10
   \   000011 250F                  JRC       L:??TIM2_ITConfig_1
   \                     ??TIM2_ITConfig_0:
   \   000013 AE0174                LDW       X, #0x174
   \   000016 BF00                  LDW       S:?w1, X
   \   000018 5F                    CLRW      X
   \   000019 BF00                  LDW       S:?w0, X
   \   00001B AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   00001E 8D000000              CALLF     assert_failed
    373              assert_param(IS_FUNCTIONALSTATE_OK(NewState));
   \                     ??TIM2_ITConfig_1:
   \   000022 3D00                  TNZ       S:?b9
   \   000024 2715                  JREQ      L:??TIM2_ITConfig_2
   \   000026 B600                  LD        A, S:?b9
   \   000028 A101                  CP        A, #0x1
   \   00002A 270F                  JREQ      L:??TIM2_ITConfig_2
   \   00002C AE0175                LDW       X, #0x175
   \   00002F BF00                  LDW       S:?w1, X
   \   000031 5F                    CLRW      X
   \   000032 BF00                  LDW       S:?w0, X
   \   000034 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   000037 8D000000              CALLF     assert_failed
    374          
    375              if (NewState != DISABLE)
   \                     ??TIM2_ITConfig_2:
   \   00003B 3D00                  TNZ       S:?b9
   \   00003D 270C                  JREQ      L:??TIM2_ITConfig_3
    376              {
    377                  /* Enable the Interrupt sources */
    378                  TIM2->IER |= (uint8_t)TIM2_IT;
   \   00003F B600                  LD        A, S:?b8
   \   000041 CA5303                OR        A, L:0x5303
   \   000044 C75303                LD        L:0x5303, A
   \   000047 AC000000              JPF       L:?epilogue_w4
    379              }
    380              else
    381              {
    382                  /* Disable the Interrupt sources */
    383                  TIM2->IER &= (uint8_t)(~TIM2_IT);
   \                     ??TIM2_ITConfig_3:
   \   00004B 3300                  CPL       S:?b8
   \   00004D B600                  LD        A, S:?b8
   \   00004F C45303                AND       A, L:0x5303
   \   000052 C75303                LD        L:0x5303, A
    384              }
    385          }
   \   000055 AC000000              JPF       L:?epilogue_w4
    386          
    387          
    388          /**
    389            * @brief  Enables or Disables the TIM2 Update event.
    390            * @param   NewState new state of the TIM2 peripheral Preload register. This parameter can
    391            * be ENABLE or DISABLE.
    392            * @retval None
    393            */

   \                                 In section .far_func.text, align 1
    394          void TIM2_UpdateDisableConfig(FunctionalState NewState)
    395          {
   \                     TIM2_UpdateDisableConfig:
   \   000000 3B0000                PUSH      S:?b8
   \   000003 B700                  LD        S:?b8, A
    396              /* Check the parameters */
    397              assert_param(IS_FUNCTIONALSTATE_OK(NewState));
   \   000005 3D00                  TNZ       S:?b8
   \   000007 2715                  JREQ      L:??TIM2_UpdateDisableConfig_0
   \   000009 B600                  LD        A, S:?b8
   \   00000B A101                  CP        A, #0x1
   \   00000D 270F                  JREQ      L:??TIM2_UpdateDisableConfig_0
   \   00000F AE018D                LDW       X, #0x18d
   \   000012 BF00                  LDW       S:?w1, X
   \   000014 5F                    CLRW      X
   \   000015 BF00                  LDW       S:?w0, X
   \   000017 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   00001A 8D000000              CALLF     assert_failed
    398          
    399              /* Set or Reset the UDIS Bit */
    400              if (NewState != DISABLE)
   \                     ??TIM2_UpdateDisableConfig_0:
   \   00001E 3D00                  TNZ       S:?b8
   \   000020 2706                  JREQ      L:??TIM2_UpdateDisableConfig_1
    401              {
    402                  TIM2->CR1 |= (uint8_t)TIM2_CR1_UDIS;
   \   000022 72125300              BSET      L:0x5300, #0x1
   \   000026 2004                  JRA       L:??TIM2_UpdateDisableConfig_2
    403              }
    404              else
    405              {
    406                  TIM2->CR1 &= (uint8_t)(~TIM2_CR1_UDIS);
   \                     ??TIM2_UpdateDisableConfig_1:
   \   000028 72135300              BRES      L:0x5300, #0x1
    407              }
    408          }
   \                     ??TIM2_UpdateDisableConfig_2:
   \   00002C 320000                POP       S:?b8
   \   00002F 87                    RETF
    409          
    410          /**
    411            * @brief  Selects the TIM2 Update Request Interrupt source.
    412            * @param   TIM2_UpdateSource specifies the Update source.
    413            * This parameter can be one of the following values
    414            *                       - TIM2_UPDATESOURCE_REGULAR
    415            *                       - TIM2_UPDATESOURCE_GLOBAL
    416            * @retval None
    417            */

   \                                 In section .far_func.text, align 1
    418          void TIM2_UpdateRequestConfig(TIM2_UpdateSource_TypeDef TIM2_UpdateSource)
    419          {
   \                     TIM2_UpdateRequestConfig:
   \   000000 3B0000                PUSH      S:?b8
   \   000003 B700                  LD        S:?b8, A
    420              /* Check the parameters */
    421              assert_param(IS_TIM2_UPDATE_SOURCE_OK(TIM2_UpdateSource));
   \   000005 3D00                  TNZ       S:?b8
   \   000007 2715                  JREQ      L:??TIM2_UpdateRequestConfig_0
   \   000009 B600                  LD        A, S:?b8
   \   00000B A101                  CP        A, #0x1
   \   00000D 270F                  JREQ      L:??TIM2_UpdateRequestConfig_0
   \   00000F AE01A5                LDW       X, #0x1a5
   \   000012 BF00                  LDW       S:?w1, X
   \   000014 5F                    CLRW      X
   \   000015 BF00                  LDW       S:?w0, X
   \   000017 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   00001A 8D000000              CALLF     assert_failed
    422          
    423              /* Set or Reset the URS Bit */
    424              if (TIM2_UpdateSource != TIM2_UPDATESOURCE_GLOBAL)
   \                     ??TIM2_UpdateRequestConfig_0:
   \   00001E 3D00                  TNZ       S:?b8
   \   000020 2706                  JREQ      L:??TIM2_UpdateRequestConfig_1
    425              {
    426                  TIM2->CR1 |= (uint8_t)TIM2_CR1_URS;
   \   000022 72145300              BSET      L:0x5300, #0x2
   \   000026 2004                  JRA       L:??TIM2_UpdateRequestConfig_2
    427              }
    428              else
    429              {
    430                  TIM2->CR1 &= (uint8_t)(~TIM2_CR1_URS);
   \                     ??TIM2_UpdateRequestConfig_1:
   \   000028 72155300              BRES      L:0x5300, #0x2
    431              }
    432          }
   \                     ??TIM2_UpdateRequestConfig_2:
   \   00002C 320000                POP       S:?b8
   \   00002F 87                    RETF
    433          
    434          
    435          /**
    436            * @brief  Selects the TIM2s One Pulse Mode.
    437            * @param   TIM2_OPMode specifies the OPM Mode to be used.
    438            * This parameter can be one of the following values
    439            *                    - TIM2_OPMODE_SINGLE
    440            *                    - TIM2_OPMODE_REPETITIVE
    441            * @retval None
    442            */

   \                                 In section .far_func.text, align 1
    443          void TIM2_SelectOnePulseMode(TIM2_OPMode_TypeDef TIM2_OPMode)
    444          {
   \                     TIM2_SelectOnePulseMode:
   \   000000 3B0000                PUSH      S:?b8
   \   000003 B700                  LD        S:?b8, A
    445              /* Check the parameters */
    446              assert_param(IS_TIM2_OPM_MODE_OK(TIM2_OPMode));
   \   000005 B600                  LD        A, S:?b8
   \   000007 A101                  CP        A, #0x1
   \   000009 2713                  JREQ      L:??TIM2_SelectOnePulseMode_0
   \   00000B 3D00                  TNZ       S:?b8
   \   00000D 270F                  JREQ      L:??TIM2_SelectOnePulseMode_0
   \   00000F AE01BE                LDW       X, #0x1be
   \   000012 BF00                  LDW       S:?w1, X
   \   000014 5F                    CLRW      X
   \   000015 BF00                  LDW       S:?w0, X
   \   000017 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   00001A 8D000000              CALLF     assert_failed
    447          
    448              /* Set or Reset the OPM Bit */
    449              if (TIM2_OPMode != TIM2_OPMODE_REPETITIVE)
   \                     ??TIM2_SelectOnePulseMode_0:
   \   00001E 3D00                  TNZ       S:?b8
   \   000020 2706                  JREQ      L:??TIM2_SelectOnePulseMode_1
    450              {
    451                  TIM2->CR1 |= (uint8_t)TIM2_CR1_OPM;
   \   000022 72165300              BSET      L:0x5300, #0x3
   \   000026 2004                  JRA       L:??TIM2_SelectOnePulseMode_2
    452              }
    453              else
    454              {
    455                  TIM2->CR1 &= (uint8_t)(~TIM2_CR1_OPM);
   \                     ??TIM2_SelectOnePulseMode_1:
   \   000028 72175300              BRES      L:0x5300, #0x3
    456              }
    457          
    458          }
   \                     ??TIM2_SelectOnePulseMode_2:
   \   00002C 320000                POP       S:?b8
   \   00002F 87                    RETF
    459          
    460          
    461          /**
    462            * @brief  Configures the TIM2 Prescaler.
    463            * @param   Prescaler specifies the Prescaler Register value
    464            * This parameter can be one of the following values
    465            *                       -  TIM2_PRESCALER_1
    466            *                       -  TIM2_PRESCALER_2
    467            *                       -  TIM2_PRESCALER_4
    468            *                       -  TIM2_PRESCALER_8
    469            *                       -  TIM2_PRESCALER_16
    470            *                       -  TIM2_PRESCALER_32
    471            *                       -  TIM2_PRESCALER_64
    472            *                       -  TIM2_PRESCALER_128
    473            *                       -  TIM2_PRESCALER_256
    474            *                       -  TIM2_PRESCALER_512
    475            *                       -  TIM2_PRESCALER_1024
    476            *                       -  TIM2_PRESCALER_2048
    477            *                       -  TIM2_PRESCALER_4096
    478            *                       -  TIM2_PRESCALER_8192
    479            *                       -  TIM2_PRESCALER_16384
    480            *                       -  TIM2_PRESCALER_32768
    481            * @param   TIM2_PSCReloadMode specifies the TIM2 Prescaler Reload mode.
    482            * This parameter can be one of the following values
    483            *                       - TIM2_PSCRELOADMODE_IMMEDIATE: The Prescaler is loaded
    484            *                         immediately.
    485            *                       - TIM2_PSCRELOADMODE_UPDATE: The Prescaler is loaded at
    486            *                         the update event.
    487            * @retval None
    488            */

   \                                 In section .far_func.text, align 1
    489          void TIM2_PrescalerConfig(TIM2_Prescaler_TypeDef Prescaler,
    490                                    TIM2_PSCReloadMode_TypeDef TIM2_PSCReloadMode)
    491          {
   \                     TIM2_PrescalerConfig:
   \   000000 8D000000              CALLF     L:?push_w4
   \   000004 B700                  LD        S:?b9, A
   \   000006 450000                MOV       S:?b8, S:?b0
    492              /* Check the parameters */
    493              assert_param(IS_TIM2_PRESCALER_RELOAD_OK(TIM2_PSCReloadMode));
   \   000009 3D00                  TNZ       S:?b8
   \   00000B 2715                  JREQ      L:??TIM2_PrescalerConfig_0
   \   00000D B600                  LD        A, S:?b8
   \   00000F A101                  CP        A, #0x1
   \   000011 270F                  JREQ      L:??TIM2_PrescalerConfig_0
   \   000013 AE01ED                LDW       X, #0x1ed
   \   000016 BF00                  LDW       S:?w1, X
   \   000018 5F                    CLRW      X
   \   000019 BF00                  LDW       S:?w0, X
   \   00001B AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   00001E 8D000000              CALLF     assert_failed
    494              assert_param(IS_TIM2_PRESCALER_OK(Prescaler));
   \                     ??TIM2_PrescalerConfig_0:
   \   000022 3D00                  TNZ       S:?b9
   \   000024 2769                  JREQ      L:??TIM2_PrescalerConfig_1
   \   000026 B600                  LD        A, S:?b9
   \   000028 A101                  CP        A, #0x1
   \   00002A 2763                  JREQ      L:??TIM2_PrescalerConfig_1
   \   00002C B600                  LD        A, S:?b9
   \   00002E A102                  CP        A, #0x2
   \   000030 275D                  JREQ      L:??TIM2_PrescalerConfig_1
   \   000032 B600                  LD        A, S:?b9
   \   000034 A103                  CP        A, #0x3
   \   000036 2757                  JREQ      L:??TIM2_PrescalerConfig_1
   \   000038 B600                  LD        A, S:?b9
   \   00003A A104                  CP        A, #0x4
   \   00003C 2751                  JREQ      L:??TIM2_PrescalerConfig_1
   \   00003E B600                  LD        A, S:?b9
   \   000040 A105                  CP        A, #0x5
   \   000042 274B                  JREQ      L:??TIM2_PrescalerConfig_1
   \   000044 B600                  LD        A, S:?b9
   \   000046 A106                  CP        A, #0x6
   \   000048 2745                  JREQ      L:??TIM2_PrescalerConfig_1
   \   00004A B600                  LD        A, S:?b9
   \   00004C A107                  CP        A, #0x7
   \   00004E 273F                  JREQ      L:??TIM2_PrescalerConfig_1
   \   000050 B600                  LD        A, S:?b9
   \   000052 A108                  CP        A, #0x8
   \   000054 2739                  JREQ      L:??TIM2_PrescalerConfig_1
   \   000056 B600                  LD        A, S:?b9
   \   000058 A109                  CP        A, #0x9
   \   00005A 2733                  JREQ      L:??TIM2_PrescalerConfig_1
   \   00005C B600                  LD        A, S:?b9
   \   00005E A10A                  CP        A, #0xa
   \   000060 272D                  JREQ      L:??TIM2_PrescalerConfig_1
   \   000062 B600                  LD        A, S:?b9
   \   000064 A10B                  CP        A, #0xb
   \   000066 2727                  JREQ      L:??TIM2_PrescalerConfig_1
   \   000068 B600                  LD        A, S:?b9
   \   00006A A10C                  CP        A, #0xc
   \   00006C 2721                  JREQ      L:??TIM2_PrescalerConfig_1
   \   00006E B600                  LD        A, S:?b9
   \   000070 A10D                  CP        A, #0xd
   \   000072 271B                  JREQ      L:??TIM2_PrescalerConfig_1
   \   000074 B600                  LD        A, S:?b9
   \   000076 A10E                  CP        A, #0xe
   \   000078 2715                  JREQ      L:??TIM2_PrescalerConfig_1
   \   00007A B600                  LD        A, S:?b9
   \   00007C A10F                  CP        A, #0xf
   \   00007E 270F                  JREQ      L:??TIM2_PrescalerConfig_1
   \   000080 AE01EE                LDW       X, #0x1ee
   \   000083 BF00                  LDW       S:?w1, X
   \   000085 5F                    CLRW      X
   \   000086 BF00                  LDW       S:?w0, X
   \   000088 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   00008B 8D000000              CALLF     assert_failed
    495          
    496              /* Set the Prescaler value */
    497              TIM2->PSCR = (uint8_t)Prescaler;
   \                     ??TIM2_PrescalerConfig_1:
   \   00008F B600                  LD        A, S:?b9
   \   000091 C7530E                LD        L:0x530e, A
    498          
    499              /* Set or reset the UG Bit */
    500              TIM2->EGR = (uint8_t)TIM2_PSCReloadMode;
   \   000094 B600                  LD        A, S:?b8
   \   000096 C75306                LD        L:0x5306, A
    501          }
   \   000099 AC000000              JPF       L:?epilogue_w4
    502          
    503          /**
    504            * @brief  Forces the TIM2 Channel1 output waveform to active or inactive level.
    505            * @param   TIM2_ForcedAction specifies the forced Action to be set to the output waveform.
    506            * This parameter can be one of the following values:
    507            *                       - TIM2_FORCEDACTION_ACTIVE: Force active level on OC1REF
    508            *                       - TIM2_FORCEDACTION_INACTIVE: Force inactive level on
    509            *                         OC1REF.
    510            * @retval None
    511            */

   \                                 In section .far_func.text, align 1
    512          void TIM2_ForcedOC1Config(TIM2_ForcedAction_TypeDef TIM2_ForcedAction)
    513          {
   \                     TIM2_ForcedOC1Config:
   \   000000 3B0000                PUSH      S:?b8
   \   000003 B700                  LD        S:?b8, A
    514              /* Check the parameters */
    515              assert_param(IS_TIM2_FORCED_ACTION_OK(TIM2_ForcedAction));
   \   000005 B600                  LD        A, S:?b8
   \   000007 A150                  CP        A, #0x50
   \   000009 2715                  JREQ      L:??TIM2_ForcedOC1Config_0
   \   00000B B600                  LD        A, S:?b8
   \   00000D A140                  CP        A, #0x40
   \   00000F 270F                  JREQ      L:??TIM2_ForcedOC1Config_0
   \   000011 AE0203                LDW       X, #0x203
   \   000014 BF00                  LDW       S:?w1, X
   \   000016 5F                    CLRW      X
   \   000017 BF00                  LDW       S:?w0, X
   \   000019 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   00001C 8D000000              CALLF     assert_failed
    516          
    517              /* Reset the OCM Bits & Configure the Forced output Mode */
    518              TIM2->CCMR1  =  (uint8_t)((uint8_t)(TIM2->CCMR1 & (uint8_t)(~TIM2_CCMR_OCM))  
    519                                        | (uint8_t)TIM2_ForcedAction);
   \                     ??TIM2_ForcedOC1Config_0:
   \   000020 C65307                LD        A, L:0x5307
   \   000023 A48F                  AND       A, #0x8f
   \   000025 BA00                  OR        A, S:?b8
   \   000027 C75307                LD        L:0x5307, A
    520          }
   \   00002A 320000                POP       S:?b8
   \   00002D 87                    RETF
    521          
    522          /**
    523            * @brief  Forces the TIM2 Channel2 output waveform to active or inactive level.
    524            * @param   TIM2_ForcedAction specifies the forced Action to be set to the output waveform.
    525            * This parameter can be one of the following values:
    526            *                       - TIM2_FORCEDACTION_ACTIVE: Force active level on OC2REF
    527            *                       - TIM2_FORCEDACTION_INACTIVE: Force inactive level on
    528            *                         OC2REF.
    529            * @retval None
    530            */

   \                                 In section .far_func.text, align 1
    531          void TIM2_ForcedOC2Config(TIM2_ForcedAction_TypeDef TIM2_ForcedAction)
    532          {
   \                     TIM2_ForcedOC2Config:
   \   000000 3B0000                PUSH      S:?b8
   \   000003 B700                  LD        S:?b8, A
    533              /* Check the parameters */
    534              assert_param(IS_TIM2_FORCED_ACTION_OK(TIM2_ForcedAction));
   \   000005 B600                  LD        A, S:?b8
   \   000007 A150                  CP        A, #0x50
   \   000009 2715                  JREQ      L:??TIM2_ForcedOC2Config_0
   \   00000B B600                  LD        A, S:?b8
   \   00000D A140                  CP        A, #0x40
   \   00000F 270F                  JREQ      L:??TIM2_ForcedOC2Config_0
   \   000011 AE0216                LDW       X, #0x216
   \   000014 BF00                  LDW       S:?w1, X
   \   000016 5F                    CLRW      X
   \   000017 BF00                  LDW       S:?w0, X
   \   000019 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   00001C 8D000000              CALLF     assert_failed
    535          
    536              /* Reset the OCM Bits & Configure the Forced output Mode */
    537              TIM2->CCMR2 = (uint8_t)((uint8_t)(TIM2->CCMR2 & (uint8_t)(~TIM2_CCMR_OCM))  
    538                                      | (uint8_t)TIM2_ForcedAction);
   \                     ??TIM2_ForcedOC2Config_0:
   \   000020 C65308                LD        A, L:0x5308
   \   000023 A48F                  AND       A, #0x8f
   \   000025 BA00                  OR        A, S:?b8
   \   000027 C75308                LD        L:0x5308, A
    539          }
   \   00002A 320000                POP       S:?b8
   \   00002D 87                    RETF
    540          
    541          /**
    542            * @brief  Forces the TIM2 Channel3 output waveform to active or inactive level.
    543            * @param   TIM2_ForcedAction specifies the forced Action to be set to the output waveform.
    544            * This parameter can be one of the following values:
    545            *                       - TIM2_FORCEDACTION_ACTIVE: Force active level on OC3REF
    546            *                       - TIM2_FORCEDACTION_INACTIVE: Force inactive level on
    547            *                         OC3REF.
    548            * @retval None
    549            */

   \                                 In section .far_func.text, align 1
    550          void TIM2_ForcedOC3Config(TIM2_ForcedAction_TypeDef TIM2_ForcedAction)
    551          {
   \                     TIM2_ForcedOC3Config:
   \   000000 3B0000                PUSH      S:?b8
   \   000003 B700                  LD        S:?b8, A
    552              /* Check the parameters */
    553              assert_param(IS_TIM2_FORCED_ACTION_OK(TIM2_ForcedAction));
   \   000005 B600                  LD        A, S:?b8
   \   000007 A150                  CP        A, #0x50
   \   000009 2715                  JREQ      L:??TIM2_ForcedOC3Config_0
   \   00000B B600                  LD        A, S:?b8
   \   00000D A140                  CP        A, #0x40
   \   00000F 270F                  JREQ      L:??TIM2_ForcedOC3Config_0
   \   000011 AE0229                LDW       X, #0x229
   \   000014 BF00                  LDW       S:?w1, X
   \   000016 5F                    CLRW      X
   \   000017 BF00                  LDW       S:?w0, X
   \   000019 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   00001C 8D000000              CALLF     assert_failed
    554          
    555              /* Reset the OCM Bits & Configure the Forced output Mode */
    556              TIM2->CCMR3  =  (uint8_t)((uint8_t)(TIM2->CCMR3 & (uint8_t)(~TIM2_CCMR_OCM))
    557                                        | (uint8_t)TIM2_ForcedAction);
   \                     ??TIM2_ForcedOC3Config_0:
   \   000020 C65309                LD        A, L:0x5309
   \   000023 A48F                  AND       A, #0x8f
   \   000025 BA00                  OR        A, S:?b8
   \   000027 C75309                LD        L:0x5309, A
    558          }
   \   00002A 320000                POP       S:?b8
   \   00002D 87                    RETF
    559          
    560          
    561          /**
    562            * @brief  Enables or disables TIM2 peripheral Preload register on ARR.
    563            * @param   NewState new state of the TIM2 peripheral Preload register.
    564            * This parameter can be ENABLE or DISABLE.
    565            * @retval None
    566            */

   \                                 In section .far_func.text, align 1
    567          void TIM2_ARRPreloadConfig(FunctionalState NewState)
    568          {
   \                     TIM2_ARRPreloadConfig:
   \   000000 3B0000                PUSH      S:?b8
   \   000003 B700                  LD        S:?b8, A
    569              /* Check the parameters */
    570              assert_param(IS_FUNCTIONALSTATE_OK(NewState));
   \   000005 3D00                  TNZ       S:?b8
   \   000007 2715                  JREQ      L:??TIM2_ARRPreloadConfig_0
   \   000009 B600                  LD        A, S:?b8
   \   00000B A101                  CP        A, #0x1
   \   00000D 270F                  JREQ      L:??TIM2_ARRPreloadConfig_0
   \   00000F AE023A                LDW       X, #0x23a
   \   000012 BF00                  LDW       S:?w1, X
   \   000014 5F                    CLRW      X
   \   000015 BF00                  LDW       S:?w0, X
   \   000017 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   00001A 8D000000              CALLF     assert_failed
    571          
    572              /* Set or Reset the ARPE Bit */
    573              if (NewState != DISABLE)
   \                     ??TIM2_ARRPreloadConfig_0:
   \   00001E 3D00                  TNZ       S:?b8
   \   000020 2706                  JREQ      L:??TIM2_ARRPreloadConfig_1
    574              {
    575                  TIM2->CR1 |= (uint8_t)TIM2_CR1_ARPE;
   \   000022 721E5300              BSET      L:0x5300, #0x7
   \   000026 2004                  JRA       L:??TIM2_ARRPreloadConfig_2
    576              }
    577              else
    578              {
    579                  TIM2->CR1 &= (uint8_t)(~TIM2_CR1_ARPE);
   \                     ??TIM2_ARRPreloadConfig_1:
   \   000028 721F5300              BRES      L:0x5300, #0x7
    580              }
    581          }
   \                     ??TIM2_ARRPreloadConfig_2:
   \   00002C 320000                POP       S:?b8
   \   00002F 87                    RETF
    582          
    583          
    584          /**
    585            * @brief  Enables or disables the TIM2 peripheral Preload Register on CCR1.
    586            * @param   NewState new state of the Capture Compare Preload register.
    587            * This parameter can be ENABLE or DISABLE.
    588            * @retval None
    589            */

   \                                 In section .far_func.text, align 1
    590          void TIM2_OC1PreloadConfig(FunctionalState NewState)
    591          {
   \                     TIM2_OC1PreloadConfig:
   \   000000 3B0000                PUSH      S:?b8
   \   000003 B700                  LD        S:?b8, A
    592              /* Check the parameters */
    593              assert_param(IS_FUNCTIONALSTATE_OK(NewState));
   \   000005 3D00                  TNZ       S:?b8
   \   000007 2715                  JREQ      L:??TIM2_OC1PreloadConfig_0
   \   000009 B600                  LD        A, S:?b8
   \   00000B A101                  CP        A, #0x1
   \   00000D 270F                  JREQ      L:??TIM2_OC1PreloadConfig_0
   \   00000F AE0251                LDW       X, #0x251
   \   000012 BF00                  LDW       S:?w1, X
   \   000014 5F                    CLRW      X
   \   000015 BF00                  LDW       S:?w0, X
   \   000017 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   00001A 8D000000              CALLF     assert_failed
    594          
    595              /* Set or Reset the OC1PE Bit */
    596              if (NewState != DISABLE)
   \                     ??TIM2_OC1PreloadConfig_0:
   \   00001E 3D00                  TNZ       S:?b8
   \   000020 2706                  JREQ      L:??TIM2_OC1PreloadConfig_1
    597              {
    598                  TIM2->CCMR1 |= (uint8_t)TIM2_CCMR_OCxPE;
   \   000022 72165307              BSET      L:0x5307, #0x3
   \   000026 2004                  JRA       L:??TIM2_OC1PreloadConfig_2
    599              }
    600              else
    601              {
    602                  TIM2->CCMR1 &= (uint8_t)(~TIM2_CCMR_OCxPE);
   \                     ??TIM2_OC1PreloadConfig_1:
   \   000028 72175307              BRES      L:0x5307, #0x3
    603              }
    604          }
   \                     ??TIM2_OC1PreloadConfig_2:
   \   00002C 320000                POP       S:?b8
   \   00002F 87                    RETF
    605          
    606          
    607          /**
    608            * @brief  Enables or disables the TIM2 peripheral Preload Register on CCR2.
    609            * @param   NewState new state of the Capture Compare Preload register.
    610            * This parameter can be ENABLE or DISABLE.
    611            * @retval None
    612            */

   \                                 In section .far_func.text, align 1
    613          void TIM2_OC2PreloadConfig(FunctionalState NewState)
    614          {
   \                     TIM2_OC2PreloadConfig:
   \   000000 3B0000                PUSH      S:?b8
   \   000003 B700                  LD        S:?b8, A
    615              /* Check the parameters */
    616              assert_param(IS_FUNCTIONALSTATE_OK(NewState));
   \   000005 3D00                  TNZ       S:?b8
   \   000007 2715                  JREQ      L:??TIM2_OC2PreloadConfig_0
   \   000009 B600                  LD        A, S:?b8
   \   00000B A101                  CP        A, #0x1
   \   00000D 270F                  JREQ      L:??TIM2_OC2PreloadConfig_0
   \   00000F AE0268                LDW       X, #0x268
   \   000012 BF00                  LDW       S:?w1, X
   \   000014 5F                    CLRW      X
   \   000015 BF00                  LDW       S:?w0, X
   \   000017 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   00001A 8D000000              CALLF     assert_failed
    617          
    618              /* Set or Reset the OC2PE Bit */
    619              if (NewState != DISABLE)
   \                     ??TIM2_OC2PreloadConfig_0:
   \   00001E 3D00                  TNZ       S:?b8
   \   000020 2706                  JREQ      L:??TIM2_OC2PreloadConfig_1
    620              {
    621                  TIM2->CCMR2 |= (uint8_t)TIM2_CCMR_OCxPE;
   \   000022 72165308              BSET      L:0x5308, #0x3
   \   000026 2004                  JRA       L:??TIM2_OC2PreloadConfig_2
    622              }
    623              else
    624              {
    625                  TIM2->CCMR2 &= (uint8_t)(~TIM2_CCMR_OCxPE);
   \                     ??TIM2_OC2PreloadConfig_1:
   \   000028 72175308              BRES      L:0x5308, #0x3
    626              }
    627          }
   \                     ??TIM2_OC2PreloadConfig_2:
   \   00002C 320000                POP       S:?b8
   \   00002F 87                    RETF
    628          
    629          
    630          /**
    631            * @brief  Enables or disables the TIM2 peripheral Preload Register on CCR3.
    632            * @param   NewState new state of the Capture Compare Preload register.
    633            * This parameter can be ENABLE or DISABLE.
    634            * @retval None
    635            */

   \                                 In section .far_func.text, align 1
    636          void TIM2_OC3PreloadConfig(FunctionalState NewState)
    637          {
   \                     TIM2_OC3PreloadConfig:
   \   000000 3B0000                PUSH      S:?b8
   \   000003 B700                  LD        S:?b8, A
    638              /* Check the parameters */
    639              assert_param(IS_FUNCTIONALSTATE_OK(NewState));
   \   000005 3D00                  TNZ       S:?b8
   \   000007 2715                  JREQ      L:??TIM2_OC3PreloadConfig_0
   \   000009 B600                  LD        A, S:?b8
   \   00000B A101                  CP        A, #0x1
   \   00000D 270F                  JREQ      L:??TIM2_OC3PreloadConfig_0
   \   00000F AE027F                LDW       X, #0x27f
   \   000012 BF00                  LDW       S:?w1, X
   \   000014 5F                    CLRW      X
   \   000015 BF00                  LDW       S:?w0, X
   \   000017 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   00001A 8D000000              CALLF     assert_failed
    640          
    641              /* Set or Reset the OC3PE Bit */
    642              if (NewState != DISABLE)
   \                     ??TIM2_OC3PreloadConfig_0:
   \   00001E 3D00                  TNZ       S:?b8
   \   000020 2706                  JREQ      L:??TIM2_OC3PreloadConfig_1
    643              {
    644                  TIM2->CCMR3 |= (uint8_t)TIM2_CCMR_OCxPE;
   \   000022 72165309              BSET      L:0x5309, #0x3
   \   000026 2004                  JRA       L:??TIM2_OC3PreloadConfig_2
    645              }
    646              else
    647              {
    648                  TIM2->CCMR3 &= (uint8_t)(~TIM2_CCMR_OCxPE);
   \                     ??TIM2_OC3PreloadConfig_1:
   \   000028 72175309              BRES      L:0x5309, #0x3
    649              }
    650          }
   \                     ??TIM2_OC3PreloadConfig_2:
   \   00002C 320000                POP       S:?b8
   \   00002F 87                    RETF
    651          
    652          
    653          /**
    654            * @brief  Configures the TIM2 event to be generated by software.
    655            * @param   TIM2_EventSource specifies the event source.
    656            * This parameter can be one of the following values:
    657            *                       - TIM2_EVENTSOURCE_UPDATE: TIM2 update Event source
    658            *                       - TIM2_EVENTSOURCE_CC1: TIM2 Capture Compare 1 Event source
    659            *                       - TIM2_EVENTSOURCE_CC2: TIM2 Capture Compare 2 Event source
    660            *                       - TIM2_EVENTSOURCE_CC3: TIM2 Capture Compare 3 Event source
    661            * @retval None
    662            */

   \                                 In section .far_func.text, align 1
    663          void TIM2_GenerateEvent(TIM2_EventSource_TypeDef TIM2_EventSource)
    664          {
   \                     TIM2_GenerateEvent:
   \   000000 3B0000                PUSH      S:?b8
   \   000003 B700                  LD        S:?b8, A
    665              /* Check the parameters */
    666              assert_param(IS_TIM2_EVENT_SOURCE_OK(TIM2_EventSource));
   \   000005 3D00                  TNZ       S:?b8
   \   000007 260F                  JRNE      L:??TIM2_GenerateEvent_0
   \   000009 AE029A                LDW       X, #0x29a
   \   00000C BF00                  LDW       S:?w1, X
   \   00000E 5F                    CLRW      X
   \   00000F BF00                  LDW       S:?w0, X
   \   000011 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   000014 8D000000              CALLF     assert_failed
    667          
    668              /* Set the event sources */
    669              TIM2->EGR = (uint8_t)TIM2_EventSource;
   \                     ??TIM2_GenerateEvent_0:
   \   000018 B600                  LD        A, S:?b8
   \   00001A C75306                LD        L:0x5306, A
    670          }
   \   00001D 320000                POP       S:?b8
   \   000020 87                    RETF
    671          
    672          
    673          /**
    674            * @brief  Configures the TIM2 Channel 1 polarity.
    675            * @param   TIM2_OCPolarity specifies the OC1 Polarity.
    676            * This parameter can be one of the following values:
    677            *                       - TIM2_OCPOLARITY_LOW: Output Compare active low
    678            *                       - TIM2_OCPOLARITY_HIGH: Output Compare active high
    679            * @retval None
    680            */

   \                                 In section .far_func.text, align 1
    681          void TIM2_OC1PolarityConfig(TIM2_OCPolarity_TypeDef TIM2_OCPolarity)
    682          {
   \                     TIM2_OC1PolarityConfig:
   \   000000 3B0000                PUSH      S:?b8
   \   000003 B700                  LD        S:?b8, A
    683              /* Check the parameters */
    684              assert_param(IS_TIM2_OC_POLARITY_OK(TIM2_OCPolarity));
   \   000005 3D00                  TNZ       S:?b8
   \   000007 2715                  JREQ      L:??TIM2_OC1PolarityConfig_0
   \   000009 B600                  LD        A, S:?b8
   \   00000B A122                  CP        A, #0x22
   \   00000D 270F                  JREQ      L:??TIM2_OC1PolarityConfig_0
   \   00000F AE02AC                LDW       X, #0x2ac
   \   000012 BF00                  LDW       S:?w1, X
   \   000014 5F                    CLRW      X
   \   000015 BF00                  LDW       S:?w0, X
   \   000017 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   00001A 8D000000              CALLF     assert_failed
    685          
    686              /* Set or Reset the CC1P Bit */
    687              if (TIM2_OCPolarity != TIM2_OCPOLARITY_HIGH)
   \                     ??TIM2_OC1PolarityConfig_0:
   \   00001E 3D00                  TNZ       S:?b8
   \   000020 2706                  JREQ      L:??TIM2_OC1PolarityConfig_1
    688              {
    689                  TIM2->CCER1 |= (uint8_t)TIM2_CCER1_CC1P;
   \   000022 7212530A              BSET      L:0x530a, #0x1
   \   000026 2004                  JRA       L:??TIM2_OC1PolarityConfig_2
    690              }
    691              else
    692              {
    693                  TIM2->CCER1 &= (uint8_t)(~TIM2_CCER1_CC1P);
   \                     ??TIM2_OC1PolarityConfig_1:
   \   000028 7213530A              BRES      L:0x530a, #0x1
    694              }
    695          }
   \                     ??TIM2_OC1PolarityConfig_2:
   \   00002C 320000                POP       S:?b8
   \   00002F 87                    RETF
    696          
    697          
    698          /**
    699            * @brief  Configures the TIM2 Channel 2 polarity.
    700            * @param   TIM2_OCPolarity specifies the OC2 Polarity.
    701            * This parameter can be one of the following values:
    702            *                       - TIM2_OCPOLARITY_LOW: Output Compare active low
    703            *                       - TIM2_OCPOLARITY_HIGH: Output Compare active high
    704            * @retval None
    705            */

   \                                 In section .far_func.text, align 1
    706          void TIM2_OC2PolarityConfig(TIM2_OCPolarity_TypeDef TIM2_OCPolarity)
    707          {
   \                     TIM2_OC2PolarityConfig:
   \   000000 3B0000                PUSH      S:?b8
   \   000003 B700                  LD        S:?b8, A
    708              /* Check the parameters */
    709              assert_param(IS_TIM2_OC_POLARITY_OK(TIM2_OCPolarity));
   \   000005 3D00                  TNZ       S:?b8
   \   000007 2715                  JREQ      L:??TIM2_OC2PolarityConfig_0
   \   000009 B600                  LD        A, S:?b8
   \   00000B A122                  CP        A, #0x22
   \   00000D 270F                  JREQ      L:??TIM2_OC2PolarityConfig_0
   \   00000F AE02C5                LDW       X, #0x2c5
   \   000012 BF00                  LDW       S:?w1, X
   \   000014 5F                    CLRW      X
   \   000015 BF00                  LDW       S:?w0, X
   \   000017 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   00001A 8D000000              CALLF     assert_failed
    710          
    711              /* Set or Reset the CC2P Bit */
    712              if (TIM2_OCPolarity != TIM2_OCPOLARITY_HIGH)
   \                     ??TIM2_OC2PolarityConfig_0:
   \   00001E 3D00                  TNZ       S:?b8
   \   000020 2706                  JREQ      L:??TIM2_OC2PolarityConfig_1
    713              {
    714                  TIM2->CCER1 |= TIM2_CCER1_CC2P;
   \   000022 721A530A              BSET      L:0x530a, #0x5
   \   000026 2004                  JRA       L:??TIM2_OC2PolarityConfig_2
    715              }
    716              else
    717              {
    718                  TIM2->CCER1 &= (uint8_t)(~TIM2_CCER1_CC2P);
   \                     ??TIM2_OC2PolarityConfig_1:
   \   000028 721B530A              BRES      L:0x530a, #0x5
    719              }
    720          }
   \                     ??TIM2_OC2PolarityConfig_2:
   \   00002C 320000                POP       S:?b8
   \   00002F 87                    RETF
    721          
    722          
    723          /**
    724            * @brief  Configures the TIM2 Channel 3 polarity.
    725            * @param   TIM2_OCPolarity specifies the OC3 Polarity.
    726            * This parameter can be one of the following values:
    727            *                       - TIM2_OCPOLARITY_LOW: Output Compare active low
    728            *                       - TIM2_OCPOLARITY_HIGH: Output Compare active high
    729            * @retval None
    730            */

   \                                 In section .far_func.text, align 1
    731          void TIM2_OC3PolarityConfig(TIM2_OCPolarity_TypeDef TIM2_OCPolarity)
    732          {
   \                     TIM2_OC3PolarityConfig:
   \   000000 3B0000                PUSH      S:?b8
   \   000003 B700                  LD        S:?b8, A
    733              /* Check the parameters */
    734              assert_param(IS_TIM2_OC_POLARITY_OK(TIM2_OCPolarity));
   \   000005 3D00                  TNZ       S:?b8
   \   000007 2715                  JREQ      L:??TIM2_OC3PolarityConfig_0
   \   000009 B600                  LD        A, S:?b8
   \   00000B A122                  CP        A, #0x22
   \   00000D 270F                  JREQ      L:??TIM2_OC3PolarityConfig_0
   \   00000F AE02DE                LDW       X, #0x2de
   \   000012 BF00                  LDW       S:?w1, X
   \   000014 5F                    CLRW      X
   \   000015 BF00                  LDW       S:?w0, X
   \   000017 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   00001A 8D000000              CALLF     assert_failed
    735          
    736              /* Set or Reset the CC3P Bit */
    737              if (TIM2_OCPolarity != TIM2_OCPOLARITY_HIGH)
   \                     ??TIM2_OC3PolarityConfig_0:
   \   00001E 3D00                  TNZ       S:?b8
   \   000020 2706                  JREQ      L:??TIM2_OC3PolarityConfig_1
    738              {
    739                  TIM2->CCER2 |= (uint8_t)TIM2_CCER2_CC3P;
   \   000022 7212530B              BSET      L:0x530b, #0x1
   \   000026 2004                  JRA       L:??TIM2_OC3PolarityConfig_2
    740              }
    741              else
    742              {
    743                  TIM2->CCER2 &= (uint8_t)(~TIM2_CCER2_CC3P);
   \                     ??TIM2_OC3PolarityConfig_1:
   \   000028 7213530B              BRES      L:0x530b, #0x1
    744              }
    745          }
   \                     ??TIM2_OC3PolarityConfig_2:
   \   00002C 320000                POP       S:?b8
   \   00002F 87                    RETF
    746          
    747          
    748          /**
    749            * @brief  Enables or disables the TIM2 Capture Compare Channel x.
    750            * @param   TIM2_Channel specifies the TIM2 Channel.
    751            * This parameter can be one of the following values:
    752            *                       - TIM2_CHANNEL_1: TIM2 Channel1
    753            *                       - TIM2_CHANNEL_2: TIM2 Channel2
    754            *                       - TIM2_CHANNEL_3: TIM2 Channel3
    755            * @param   NewState specifies the TIM2 Channel CCxE bit new state.
    756            * This parameter can be: ENABLE or DISABLE.
    757            * @retval None
    758            */

   \                                 In section .far_func.text, align 1
    759          void TIM2_CCxCmd(TIM2_Channel_TypeDef TIM2_Channel, FunctionalState NewState)
    760          {
   \                     TIM2_CCxCmd:
   \   000000 8D000000              CALLF     L:?push_w4
   \   000004 B700                  LD        S:?b8, A
   \   000006 450000                MOV       S:?b9, S:?b0
    761              /* Check the parameters */
    762              assert_param(IS_TIM2_CHANNEL_OK(TIM2_Channel));
   \   000009 3D00                  TNZ       S:?b8
   \   00000B 271B                  JREQ      L:??TIM2_CCxCmd_0
   \   00000D B600                  LD        A, S:?b8
   \   00000F A101                  CP        A, #0x1
   \   000011 2715                  JREQ      L:??TIM2_CCxCmd_0
   \   000013 B600                  LD        A, S:?b8
   \   000015 A102                  CP        A, #0x2
   \   000017 270F                  JREQ      L:??TIM2_CCxCmd_0
   \   000019 AE02FA                LDW       X, #0x2fa
   \   00001C BF00                  LDW       S:?w1, X
   \   00001E 5F                    CLRW      X
   \   00001F BF00                  LDW       S:?w0, X
   \   000021 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   000024 8D000000              CALLF     assert_failed
    763              assert_param(IS_FUNCTIONALSTATE_OK(NewState));
   \                     ??TIM2_CCxCmd_0:
   \   000028 3D00                  TNZ       S:?b9
   \   00002A 2715                  JREQ      L:??TIM2_CCxCmd_1
   \   00002C B600                  LD        A, S:?b9
   \   00002E A101                  CP        A, #0x1
   \   000030 270F                  JREQ      L:??TIM2_CCxCmd_1
   \   000032 AE02FB                LDW       X, #0x2fb
   \   000035 BF00                  LDW       S:?w1, X
   \   000037 5F                    CLRW      X
   \   000038 BF00                  LDW       S:?w0, X
   \   00003A AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   00003D 8D000000              CALLF     assert_failed
    764          
    765              if (TIM2_Channel == TIM2_CHANNEL_1)
   \                     ??TIM2_CCxCmd_1:
   \   000041 3D00                  TNZ       S:?b8
   \   000043 2614                  JRNE      L:??TIM2_CCxCmd_2
    766              {
    767                  /* Set or Reset the CC1E Bit */
    768                  if (NewState != DISABLE)
   \   000045 3D00                  TNZ       S:?b9
   \   000047 2708                  JREQ      L:??TIM2_CCxCmd_3
    769                  {
    770                      TIM2->CCER1 |= (uint8_t)TIM2_CCER1_CC1E;
   \   000049 7210530A              BSET      L:0x530a, #0x0
   \   00004D AC000000              JPF       L:?epilogue_w4
    771                  }
    772                  else
    773                  {
    774                      TIM2->CCER1 &= (uint8_t)(~TIM2_CCER1_CC1E);
   \                     ??TIM2_CCxCmd_3:
   \   000051 7211530A              BRES      L:0x530a, #0x0
   \   000055 AC000000              JPF       L:?epilogue_w4
    775                  }
    776          
    777              }
    778              else if (TIM2_Channel == TIM2_CHANNEL_2)
   \                     ??TIM2_CCxCmd_2:
   \   000059 B600                  LD        A, S:?b8
   \   00005B A101                  CP        A, #0x1
   \   00005D 2614                  JRNE      L:??TIM2_CCxCmd_4
    779              {
    780                  /* Set or Reset the CC2E Bit */
    781                  if (NewState != DISABLE)
   \   00005F 3D00                  TNZ       S:?b9
   \   000061 2708                  JREQ      L:??TIM2_CCxCmd_5
    782                  {
    783                      TIM2->CCER1 |= (uint8_t)TIM2_CCER1_CC2E;
   \   000063 7218530A              BSET      L:0x530a, #0x4
   \   000067 AC000000              JPF       L:?epilogue_w4
    784                  }
    785                  else
    786                  {
    787                      TIM2->CCER1 &= (uint8_t)(~TIM2_CCER1_CC2E);
   \                     ??TIM2_CCxCmd_5:
   \   00006B 7219530A              BRES      L:0x530a, #0x4
   \   00006F AC000000              JPF       L:?epilogue_w4
    788                  }
    789              }
    790              else
    791              {
    792                  /* Set or Reset the CC3E Bit */
    793                  if (NewState != DISABLE)
   \                     ??TIM2_CCxCmd_4:
   \   000073 3D00                  TNZ       S:?b9
   \   000075 2708                  JREQ      L:??TIM2_CCxCmd_6
    794                  {
    795                      TIM2->CCER2 |= (uint8_t)TIM2_CCER2_CC3E;
   \   000077 7210530B              BSET      L:0x530b, #0x0
   \   00007B AC000000              JPF       L:?epilogue_w4
    796                  }
    797                  else
    798                  {
    799                      TIM2->CCER2 &= (uint8_t)(~TIM2_CCER2_CC3E);
   \                     ??TIM2_CCxCmd_6:
   \   00007F 7211530B              BRES      L:0x530b, #0x0
    800                  }
    801              }
    802          }
   \   000083 AC000000              JPF       L:?epilogue_w4
    803          
    804          /**
    805            * @brief  Selects the TIM2 Output Compare Mode. This function disables the
    806            * selected channel before changing the Output Compare Mode. User has to
    807            * enable this channel using TIM2_CCxCmd and TIM2_CCxNCmd functions.
    808            * @param   TIM2_Channel specifies the TIM2 Channel.
    809            * This parameter can be one of the following values:
    810            *                       - TIM2_CHANNEL_1: TIM2 Channel1
    811            *                       - TIM2_CHANNEL_2: TIM2 Channel2
    812            *                       - TIM2_CHANNEL_3: TIM2 Channel3
    813            * @param   TIM2_OCMode specifies the TIM2 Output Compare Mode.
    814            * This paramter can be one of the following values:
    815            *                       - TIM2_OCMODE_TIMING
    816            *                       - TIM2_OCMODE_ACTIVE
    817            *                       - TIM2_OCMODE_TOGGLE
    818            *                       - TIM2_OCMODE_PWM1
    819            *                       - TIM2_OCMODE_PWM2
    820            *                       - TIM2_FORCEDACTION_ACTIVE
    821            *                       - TIM2_FORCEDACTION_INACTIVE
    822            * @retval None
    823            */

   \                                 In section .far_func.text, align 1
    824          void TIM2_SelectOCxM(TIM2_Channel_TypeDef TIM2_Channel, TIM2_OCMode_TypeDef TIM2_OCMode)
    825          {
   \                     TIM2_SelectOCxM:
   \   000000 8D000000              CALLF     L:?push_w4
   \   000004 B700                  LD        S:?b8, A
   \   000006 450000                MOV       S:?b9, S:?b0
    826              /* Check the parameters */
    827              assert_param(IS_TIM2_CHANNEL_OK(TIM2_Channel));
   \   000009 3D00                  TNZ       S:?b8
   \   00000B 271B                  JREQ      L:??TIM2_SelectOCxM_0
   \   00000D B600                  LD        A, S:?b8
   \   00000F A101                  CP        A, #0x1
   \   000011 2715                  JREQ      L:??TIM2_SelectOCxM_0
   \   000013 B600                  LD        A, S:?b8
   \   000015 A102                  CP        A, #0x2
   \   000017 270F                  JREQ      L:??TIM2_SelectOCxM_0
   \   000019 AE033B                LDW       X, #0x33b
   \   00001C BF00                  LDW       S:?w1, X
   \   00001E 5F                    CLRW      X
   \   00001F BF00                  LDW       S:?w0, X
   \   000021 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   000024 8D000000              CALLF     assert_failed
    828              assert_param(IS_TIM2_OCM_OK(TIM2_OCMode));
   \                     ??TIM2_SelectOCxM_0:
   \   000028 3D00                  TNZ       S:?b9
   \   00002A 2739                  JREQ      L:??TIM2_SelectOCxM_1
   \   00002C B600                  LD        A, S:?b9
   \   00002E A110                  CP        A, #0x10
   \   000030 2733                  JREQ      L:??TIM2_SelectOCxM_1
   \   000032 B600                  LD        A, S:?b9
   \   000034 A120                  CP        A, #0x20
   \   000036 272D                  JREQ      L:??TIM2_SelectOCxM_1
   \   000038 B600                  LD        A, S:?b9
   \   00003A A130                  CP        A, #0x30
   \   00003C 2727                  JREQ      L:??TIM2_SelectOCxM_1
   \   00003E B600                  LD        A, S:?b9
   \   000040 A160                  CP        A, #0x60
   \   000042 2721                  JREQ      L:??TIM2_SelectOCxM_1
   \   000044 B600                  LD        A, S:?b9
   \   000046 A170                  CP        A, #0x70
   \   000048 271B                  JREQ      L:??TIM2_SelectOCxM_1
   \   00004A B600                  LD        A, S:?b9
   \   00004C A150                  CP        A, #0x50
   \   00004E 2715                  JREQ      L:??TIM2_SelectOCxM_1
   \   000050 B600                  LD        A, S:?b9
   \   000052 A140                  CP        A, #0x40
   \   000054 270F                  JREQ      L:??TIM2_SelectOCxM_1
   \   000056 AE033C                LDW       X, #0x33c
   \   000059 BF00                  LDW       S:?w1, X
   \   00005B 5F                    CLRW      X
   \   00005C BF00                  LDW       S:?w0, X
   \   00005E AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   000061 8D000000              CALLF     assert_failed
    829          
    830              if (TIM2_Channel == TIM2_CHANNEL_1)
   \                     ??TIM2_SelectOCxM_1:
   \   000065 3D00                  TNZ       S:?b8
   \   000067 2612                  JRNE      L:??TIM2_SelectOCxM_2
    831              {
    832                  /* Disable the Channel 1: Reset the CCE Bit */
    833                  TIM2->CCER1 &= (uint8_t)(~TIM2_CCER1_CC1E);
   \   000069 7211530A              BRES      L:0x530a, #0x0
    834          
    835                  /* Reset the Output Compare Bits & Set the Output Compare Mode */
    836                  TIM2->CCMR1 = (uint8_t)((uint8_t)(TIM2->CCMR1 & (uint8_t)(~TIM2_CCMR_OCM))
    837                                         | (uint8_t)TIM2_OCMode);
   \   00006D C65307                LD        A, L:0x5307
   \   000070 A48F                  AND       A, #0x8f
   \   000072 BA00                  OR        A, S:?b9
   \   000074 C75307                LD        L:0x5307, A
   \   000077 AC000000              JPF       L:?epilogue_w4
    838              }
    839              else if (TIM2_Channel == TIM2_CHANNEL_2)
   \                     ??TIM2_SelectOCxM_2:
   \   00007B B600                  LD        A, S:?b8
   \   00007D A101                  CP        A, #0x1
   \   00007F 2612                  JRNE      L:??TIM2_SelectOCxM_3
    840              {
    841                  /* Disable the Channel 2: Reset the CCE Bit */
    842                  TIM2->CCER1 &= (uint8_t)(~TIM2_CCER1_CC2E);
   \   000081 7219530A              BRES      L:0x530a, #0x4
    843          
    844                  /* Reset the Output Compare Bits & Set the Output Compare Mode */
    845                  TIM2->CCMR2 = (uint8_t)((uint8_t)(TIM2->CCMR2 & (uint8_t)(~TIM2_CCMR_OCM))
    846                                          | (uint8_t)TIM2_OCMode);
   \   000085 C65308                LD        A, L:0x5308
   \   000088 A48F                  AND       A, #0x8f
   \   00008A BA00                  OR        A, S:?b9
   \   00008C C75308                LD        L:0x5308, A
   \   00008F AC000000              JPF       L:?epilogue_w4
    847              }
    848              else
    849              {
    850                  /* Disable the Channel 3: Reset the CCE Bit */
    851                  TIM2->CCER2 &= (uint8_t)(~TIM2_CCER2_CC3E);
   \                     ??TIM2_SelectOCxM_3:
   \   000093 7211530B              BRES      L:0x530b, #0x0
    852          
    853                  /* Reset the Output Compare Bits & Set the Output Compare Mode */
    854                  TIM2->CCMR3 = (uint8_t)((uint8_t)(TIM2->CCMR3 & (uint8_t)(~TIM2_CCMR_OCM))
    855                                          | (uint8_t)TIM2_OCMode);
   \   000097 C65309                LD        A, L:0x5309
   \   00009A A48F                  AND       A, #0x8f
   \   00009C BA00                  OR        A, S:?b9
   \   00009E C75309                LD        L:0x5309, A
    856              }
    857          }
   \   0000A1 AC000000              JPF       L:?epilogue_w4
    858          
    859          
    860          /**
    861            * @brief  Sets the TIM2 Counter Register value.
    862            * @param   Counter specifies the Counter register new value.
    863            * This parameter is between 0x0000 and 0xFFFF.
    864            * @retval None
    865            */

   \                                 In section .far_func.text, align 1
    866          void TIM2_SetCounter(uint16_t Counter)
    867          {
   \                     TIM2_SetCounter:
   \   000000 9093                  LDW       Y, X
    868              /* Set the Counter Register value */
    869              TIM2->CNTRH = (uint8_t)(Counter >> 8);
   \   000002 93                    LDW       X, Y
   \   000003 4F                    CLR       A
   \   000004 01                    RRWA      X, A
   \   000005 9F                    LD        A, XL
   \   000006 C7530C                LD        L:0x530c, A
    870              TIM2->CNTRL = (uint8_t)(Counter);
   \   000009 909F                  LD        A, YL
   \   00000B C7530D                LD        L:0x530d, A
    871          
    872          }
   \   00000E 87                    RETF
    873          
    874          
    875          /**
    876            * @brief  Sets the TIM2 Autoreload Register value.
    877            * @param   Autoreload specifies the Autoreload register new value.
    878            * This parameter is between 0x0000 and 0xFFFF.
    879            * @retval None
    880            */

   \                                 In section .far_func.text, align 1
    881          void TIM2_SetAutoreload(uint16_t Autoreload)
    882          {
   \                     TIM2_SetAutoreload:
   \   000000 9093                  LDW       Y, X
    883          
    884              /* Set the Autoreload Register value */
    885              TIM2->ARRH = (uint8_t)(Autoreload >> 8);
   \   000002 93                    LDW       X, Y
   \   000003 4F                    CLR       A
   \   000004 01                    RRWA      X, A
   \   000005 9F                    LD        A, XL
   \   000006 C7530F                LD        L:0x530f, A
    886              TIM2->ARRL = (uint8_t)(Autoreload);
   \   000009 909F                  LD        A, YL
   \   00000B C75310                LD        L:0x5310, A
    887          
    888          }
   \   00000E 87                    RETF
    889          
    890          
    891          /**
    892            * @brief  Sets the TIM2 Capture Compare1 Register value.
    893            * @param   Compare1 specifies the Capture Compare1 register new value.
    894            * This parameter is between 0x0000 and 0xFFFF.
    895            * @retval None
    896            */

   \                                 In section .far_func.text, align 1
    897          void TIM2_SetCompare1(uint16_t Compare1)
    898          {
   \                     TIM2_SetCompare1:
   \   000000 9093                  LDW       Y, X
    899              /* Set the Capture Compare1 Register value */
    900              TIM2->CCR1H = (uint8_t)(Compare1 >> 8);
   \   000002 93                    LDW       X, Y
   \   000003 4F                    CLR       A
   \   000004 01                    RRWA      X, A
   \   000005 9F                    LD        A, XL
   \   000006 C75311                LD        L:0x5311, A
    901              TIM2->CCR1L = (uint8_t)(Compare1);
   \   000009 909F                  LD        A, YL
   \   00000B C75312                LD        L:0x5312, A
    902          
    903          }
   \   00000E 87                    RETF
    904          
    905          
    906          /**
    907            * @brief  Sets the TIM2 Capture Compare2 Register value.
    908            * @param   Compare2 specifies the Capture Compare2 register new value.
    909            * This parameter is between 0x0000 and 0xFFFF.
    910            * @retval None
    911            */

   \                                 In section .far_func.text, align 1
    912          void TIM2_SetCompare2(uint16_t Compare2)
    913          {
   \                     TIM2_SetCompare2:
   \   000000 9093                  LDW       Y, X
    914              /* Set the Capture Compare2 Register value */
    915              TIM2->CCR2H = (uint8_t)(Compare2 >> 8);
   \   000002 93                    LDW       X, Y
   \   000003 4F                    CLR       A
   \   000004 01                    RRWA      X, A
   \   000005 9F                    LD        A, XL
   \   000006 C75313                LD        L:0x5313, A
    916              TIM2->CCR2L = (uint8_t)(Compare2);
   \   000009 909F                  LD        A, YL
   \   00000B C75314                LD        L:0x5314, A
    917          
    918          }
   \   00000E 87                    RETF
    919          
    920          
    921          /**
    922            * @brief  Sets the TIM2 Capture Compare3 Register value.
    923            * @param   Compare3 specifies the Capture Compare3 register new value.
    924            * This parameter is between 0x0000 and 0xFFFF.
    925            * @retval None
    926            */

   \                                 In section .far_func.text, align 1
    927          void TIM2_SetCompare3(uint16_t Compare3)
    928          {
   \                     TIM2_SetCompare3:
   \   000000 9093                  LDW       Y, X
    929              /* Set the Capture Compare3 Register value */
    930              TIM2->CCR3H = (uint8_t)(Compare3 >> 8);
   \   000002 93                    LDW       X, Y
   \   000003 4F                    CLR       A
   \   000004 01                    RRWA      X, A
   \   000005 9F                    LD        A, XL
   \   000006 C75315                LD        L:0x5315, A
    931              TIM2->CCR3L = (uint8_t)(Compare3);
   \   000009 909F                  LD        A, YL
   \   00000B C75316                LD        L:0x5316, A
    932          
    933          }
   \   00000E 87                    RETF
    934          
    935          
    936          /**
    937            * @brief  Sets the TIM2 Input Capture 1 Prescaler.
    938            * @param   TIM2_IC1Prescaler specifies the Input Capture prescaler new value
    939            * This parameter can be one of the following values:
    940            *                       - TIM2_ICPSC_DIV1: no prescaler
    941            *                       - TIM2_ICPSC_DIV2: capture is done once every 2 events
    942            *                       - TIM2_ICPSC_DIV4: capture is done once every 4 events
    943            *                       - TIM2_ICPSC_DIV8: capture is done once every 8 events
    944            * @retval None
    945            */

   \                                 In section .far_func.text, align 1
    946          void TIM2_SetIC1Prescaler(TIM2_ICPSC_TypeDef TIM2_IC1Prescaler)
    947          {
   \                     TIM2_SetIC1Prescaler:
   \   000000 3B0000                PUSH      S:?b8
   \   000003 B700                  LD        S:?b8, A
    948              /* Check the parameters */
    949              assert_param(IS_TIM2_IC_PRESCALER_OK(TIM2_IC1Prescaler));
   \   000005 3D00                  TNZ       S:?b8
   \   000007 2721                  JREQ      L:??TIM2_SetIC1Prescaler_0
   \   000009 B600                  LD        A, S:?b8
   \   00000B A104                  CP        A, #0x4
   \   00000D 271B                  JREQ      L:??TIM2_SetIC1Prescaler_0
   \   00000F B600                  LD        A, S:?b8
   \   000011 A108                  CP        A, #0x8
   \   000013 2715                  JREQ      L:??TIM2_SetIC1Prescaler_0
   \   000015 B600                  LD        A, S:?b8
   \   000017 A10C                  CP        A, #0xc
   \   000019 270F                  JREQ      L:??TIM2_SetIC1Prescaler_0
   \   00001B AE03B5                LDW       X, #0x3b5
   \   00001E BF00                  LDW       S:?w1, X
   \   000020 5F                    CLRW      X
   \   000021 BF00                  LDW       S:?w0, X
   \   000023 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   000026 8D000000              CALLF     assert_failed
    950          
    951              /* Reset the IC1PSC Bits &Set the IC1PSC value */
    952              TIM2->CCMR1 = (uint8_t)((uint8_t)(TIM2->CCMR1 & (uint8_t)(~TIM2_CCMR_ICxPSC))
    953                                      | (uint8_t)TIM2_IC1Prescaler);
   \                     ??TIM2_SetIC1Prescaler_0:
   \   00002A C65307                LD        A, L:0x5307
   \   00002D A4F3                  AND       A, #0xf3
   \   00002F BA00                  OR        A, S:?b8
   \   000031 C75307                LD        L:0x5307, A
    954          }
   \   000034 320000                POP       S:?b8
   \   000037 87                    RETF
    955          
    956          /**
    957            * @brief  Sets the TIM2 Input Capture 2 prescaler.
    958            * @param   TIM2_IC2Prescaler specifies the Input Capture prescaler new value
    959            * This parameter can be one of the following values:
    960            *                       - TIM2_ICPSC_DIV1: no prescaler
    961            *                       - TIM2_ICPSC_DIV2: capture is done once every 2 events
    962            *                       - TIM2_ICPSC_DIV4: capture is done once every 4 events
    963            *                       - TIM2_ICPSC_DIV8: capture is done once every 8 events
    964            * @retval None
    965            */

   \                                 In section .far_func.text, align 1
    966          void TIM2_SetIC2Prescaler(TIM2_ICPSC_TypeDef TIM2_IC2Prescaler)
    967          {
   \                     TIM2_SetIC2Prescaler:
   \   000000 3B0000                PUSH      S:?b8
   \   000003 B700                  LD        S:?b8, A
    968              /* Check the parameters */
    969              assert_param(IS_TIM2_IC_PRESCALER_OK(TIM2_IC2Prescaler));
   \   000005 3D00                  TNZ       S:?b8
   \   000007 2721                  JREQ      L:??TIM2_SetIC2Prescaler_0
   \   000009 B600                  LD        A, S:?b8
   \   00000B A104                  CP        A, #0x4
   \   00000D 271B                  JREQ      L:??TIM2_SetIC2Prescaler_0
   \   00000F B600                  LD        A, S:?b8
   \   000011 A108                  CP        A, #0x8
   \   000013 2715                  JREQ      L:??TIM2_SetIC2Prescaler_0
   \   000015 B600                  LD        A, S:?b8
   \   000017 A10C                  CP        A, #0xc
   \   000019 270F                  JREQ      L:??TIM2_SetIC2Prescaler_0
   \   00001B AE03C9                LDW       X, #0x3c9
   \   00001E BF00                  LDW       S:?w1, X
   \   000020 5F                    CLRW      X
   \   000021 BF00                  LDW       S:?w0, X
   \   000023 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   000026 8D000000              CALLF     assert_failed
    970          
    971              /* Reset the IC1PSC Bits &Set the IC1PSC value */
    972              TIM2->CCMR2 = (uint8_t)((uint8_t)(TIM2->CCMR2 & (uint8_t)(~TIM2_CCMR_ICxPSC))
    973                                      | (uint8_t)TIM2_IC2Prescaler);
   \                     ??TIM2_SetIC2Prescaler_0:
   \   00002A C65308                LD        A, L:0x5308
   \   00002D A4F3                  AND       A, #0xf3
   \   00002F BA00                  OR        A, S:?b8
   \   000031 C75308                LD        L:0x5308, A
    974          }
   \   000034 320000                POP       S:?b8
   \   000037 87                    RETF
    975          
    976          /**
    977            * @brief  Sets the TIM2 Input Capture 3 prescaler.
    978            * @param   TIM2_IC3Prescaler specifies the Input Capture prescaler new value
    979            * This parameter can be one of the following values:
    980            *                       - TIM2_ICPSC_DIV1: no prescaler
    981            *                       - TIM2_ICPSC_DIV2: capture is done once every 2 events
    982            *                       - TIM2_ICPSC_DIV4: capture is done once every 4 events
    983            *                       - TIM2_ICPSC_DIV8: capture is done once every 8 events
    984            * @retval None
    985            */

   \                                 In section .far_func.text, align 1
    986          void TIM2_SetIC3Prescaler(TIM2_ICPSC_TypeDef TIM2_IC3Prescaler)
    987          {
   \                     TIM2_SetIC3Prescaler:
   \   000000 3B0000                PUSH      S:?b8
   \   000003 B700                  LD        S:?b8, A
    988          
    989              /* Check the parameters */
    990              assert_param(IS_TIM2_IC_PRESCALER_OK(TIM2_IC3Prescaler));
   \   000005 3D00                  TNZ       S:?b8
   \   000007 2721                  JREQ      L:??TIM2_SetIC3Prescaler_0
   \   000009 B600                  LD        A, S:?b8
   \   00000B A104                  CP        A, #0x4
   \   00000D 271B                  JREQ      L:??TIM2_SetIC3Prescaler_0
   \   00000F B600                  LD        A, S:?b8
   \   000011 A108                  CP        A, #0x8
   \   000013 2715                  JREQ      L:??TIM2_SetIC3Prescaler_0
   \   000015 B600                  LD        A, S:?b8
   \   000017 A10C                  CP        A, #0xc
   \   000019 270F                  JREQ      L:??TIM2_SetIC3Prescaler_0
   \   00001B AE03DE                LDW       X, #0x3de
   \   00001E BF00                  LDW       S:?w1, X
   \   000020 5F                    CLRW      X
   \   000021 BF00                  LDW       S:?w0, X
   \   000023 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   000026 8D000000              CALLF     assert_failed
    991              /* Reset the IC1PSC Bits &Set the IC1PSC value */
    992              TIM2->CCMR3 = (uint8_t)((uint8_t)(TIM2->CCMR3 & (uint8_t)(~TIM2_CCMR_ICxPSC))
    993                                      | (uint8_t)TIM2_IC3Prescaler);
   \                     ??TIM2_SetIC3Prescaler_0:
   \   00002A C65309                LD        A, L:0x5309
   \   00002D A4F3                  AND       A, #0xf3
   \   00002F BA00                  OR        A, S:?b8
   \   000031 C75309                LD        L:0x5309, A
    994          }
   \   000034 320000                POP       S:?b8
   \   000037 87                    RETF
    995          
    996          /**
    997            * @brief  Gets the TIM2 Input Capture 1 value.
    998            * @param  None
    999            * @retval Capture Compare 1 Register value.
   1000            */

   \                                 In section .far_func.text, align 1
   1001          uint16_t TIM2_GetCapture1(void)
   1002          {
   1003              /* Get the Capture 1 Register value */
   1004              uint16_t tmpccr1 = 0;
   \                     TIM2_GetCapture1:
   \   000000 905F                  CLRW      Y
   1005              uint8_t tmpccr1l=0, tmpccr1h=0;
   \   000002 3F00                  CLR       S:?b1
   \   000004 3F00                  CLR       S:?b0
   1006          
   1007              tmpccr1h = TIM2->CCR1H;
   \   000006 C65311                LD        A, L:0x5311
   \   000009 B700                  LD        S:?b0, A
   1008              tmpccr1l = TIM2->CCR1L;
   \   00000B C65312                LD        A, L:0x5312
   \   00000E B700                  LD        S:?b1, A
   1009          
   1010              tmpccr1 = (uint16_t)(tmpccr1l);
   \   000010 5F                    CLRW      X
   \   000011 41                    EXG       A, XL
   \   000012 B600                  LD        A, S:?b1
   \   000014 41                    EXG       A, XL
   \   000015 9093                  LDW       Y, X
   1011              tmpccr1 |= (uint16_t)((uint16_t)tmpccr1h << 8);
   \   000017 5F                    CLRW      X
   \   000018 41                    EXG       A, XL
   \   000019 B600                  LD        A, S:?b0
   \   00001B 41                    EXG       A, XL
   \   00001C 4F                    CLR       A
   \   00001D 02                    RLWA      X, A
   \   00001E BF00                  LDW       S:?w0, X
   \   000020 51                    EXGW      X, Y
   \   000021 01                    RRWA      X, A
   \   000022 BA00                  OR        A, S:?b1
   \   000024 01                    RRWA      X, A
   \   000025 BA00                  OR        A, S:?b0
   \   000027 01                    RRWA      X, A
   \   000028 51                    EXGW      X, Y
   1012              /* Get the Capture 1 Register value */
   1013              return (uint16_t)tmpccr1;
   \   000029 93                    LDW       X, Y
   \   00002A 87                    RETF
   1014          }
   1015          
   1016          /**
   1017            * @brief  Gets the TIM2 Input Capture 2 value.
   1018            * @param  None
   1019            * @retval Capture Compare 2 Register value.
   1020            */

   \                                 In section .far_func.text, align 1
   1021          uint16_t TIM2_GetCapture2(void)
   1022          {
   1023              /* Get the Capture 2 Register value */
   1024              uint16_t tmpccr2 = 0;
   \                     TIM2_GetCapture2:
   \   000000 905F                  CLRW      Y
   1025              uint8_t tmpccr2l=0, tmpccr2h=0;
   \   000002 3F00                  CLR       S:?b1
   \   000004 3F00                  CLR       S:?b0
   1026          
   1027              tmpccr2h = TIM2->CCR2H;
   \   000006 C65313                LD        A, L:0x5313
   \   000009 B700                  LD        S:?b0, A
   1028              tmpccr2l = TIM2->CCR2L;
   \   00000B C65314                LD        A, L:0x5314
   \   00000E B700                  LD        S:?b1, A
   1029          
   1030              tmpccr2 = (uint16_t)(tmpccr2l);
   \   000010 5F                    CLRW      X
   \   000011 41                    EXG       A, XL
   \   000012 B600                  LD        A, S:?b1
   \   000014 41                    EXG       A, XL
   \   000015 9093                  LDW       Y, X
   1031              tmpccr2 |= (uint16_t)((uint16_t)tmpccr2h << 8);
   \   000017 5F                    CLRW      X
   \   000018 41                    EXG       A, XL
   \   000019 B600                  LD        A, S:?b0
   \   00001B 41                    EXG       A, XL
   \   00001C 4F                    CLR       A
   \   00001D 02                    RLWA      X, A
   \   00001E BF00                  LDW       S:?w0, X
   \   000020 51                    EXGW      X, Y
   \   000021 01                    RRWA      X, A
   \   000022 BA00                  OR        A, S:?b1
   \   000024 01                    RRWA      X, A
   \   000025 BA00                  OR        A, S:?b0
   \   000027 01                    RRWA      X, A
   \   000028 51                    EXGW      X, Y
   1032              /* Get the Capture 2 Register value */
   1033              return (uint16_t)tmpccr2;
   \   000029 93                    LDW       X, Y
   \   00002A 87                    RETF
   1034          }
   1035          
   1036          /**
   1037            * @brief  Gets the TIM2 Input Capture 3 value.
   1038            * @param  None
   1039            * @retval Capture Compare 3 Register value.
   1040            */

   \                                 In section .far_func.text, align 1
   1041          uint16_t TIM2_GetCapture3(void)
   1042          {
   1043              /* Get the Capture 3 Register value */
   1044              uint16_t tmpccr3 = 0;
   \                     TIM2_GetCapture3:
   \   000000 905F                  CLRW      Y
   1045              uint8_t tmpccr3l=0, tmpccr3h=0;
   \   000002 3F00                  CLR       S:?b1
   \   000004 3F00                  CLR       S:?b0
   1046          
   1047              tmpccr3h = TIM2->CCR3H;
   \   000006 C65315                LD        A, L:0x5315
   \   000009 B700                  LD        S:?b0, A
   1048              tmpccr3l = TIM2->CCR3L;
   \   00000B C65316                LD        A, L:0x5316
   \   00000E B700                  LD        S:?b1, A
   1049          
   1050              tmpccr3 = (uint16_t)(tmpccr3l);
   \   000010 5F                    CLRW      X
   \   000011 41                    EXG       A, XL
   \   000012 B600                  LD        A, S:?b1
   \   000014 41                    EXG       A, XL
   \   000015 9093                  LDW       Y, X
   1051              tmpccr3 |= (uint16_t)((uint16_t)tmpccr3h << 8);
   \   000017 5F                    CLRW      X
   \   000018 41                    EXG       A, XL
   \   000019 B600                  LD        A, S:?b0
   \   00001B 41                    EXG       A, XL
   \   00001C 4F                    CLR       A
   \   00001D 02                    RLWA      X, A
   \   00001E BF00                  LDW       S:?w0, X
   \   000020 51                    EXGW      X, Y
   \   000021 01                    RRWA      X, A
   \   000022 BA00                  OR        A, S:?b1
   \   000024 01                    RRWA      X, A
   \   000025 BA00                  OR        A, S:?b0
   \   000027 01                    RRWA      X, A
   \   000028 51                    EXGW      X, Y
   1052              /* Get the Capture 3 Register value */
   1053              return (uint16_t)tmpccr3;
   \   000029 93                    LDW       X, Y
   \   00002A 87                    RETF
   1054          }
   1055          
   1056          /**
   1057            * @brief  Gets the TIM2 Counter value.
   1058            * @param  None
   1059            * @retval Counter Register value.
   1060            */

   \                                 In section .far_func.text, align 1
   1061          uint16_t TIM2_GetCounter(void)
   1062          {
   1063               uint16_t tmpcntr = 0;
   \                     TIM2_GetCounter:
   \   000000 905F                  CLRW      Y
   1064               
   1065              tmpcntr =  ((uint16_t)TIM2->CNTRH << 8);
   \   000002 C6530C                LD        A, L:0x530c
   \   000005 5F                    CLRW      X
   \   000006 97                    LD        XL, A
   \   000007 4F                    CLR       A
   \   000008 02                    RLWA      X, A
   \   000009 9093                  LDW       Y, X
   1066              /* Get the Counter Register value */
   1067              return (uint16_t)( tmpcntr| (uint16_t)(TIM2->CNTRL));
   \   00000B C6530D                LD        A, L:0x530d
   \   00000E 5F                    CLRW      X
   \   00000F 97                    LD        XL, A
   \   000010 BF00                  LDW       S:?w0, X
   \   000012 93                    LDW       X, Y
   \   000013 01                    RRWA      X, A
   \   000014 BA00                  OR        A, S:?b1
   \   000016 01                    RRWA      X, A
   \   000017 BA00                  OR        A, S:?b0
   \   000019 01                    RRWA      X, A
   \   00001A 87                    RETF
   1068          }
   1069          
   1070          
   1071          /**
   1072            * @brief  Gets the TIM2 Prescaler value.
   1073            * @param  None
   1074            * @retval Prescaler Register configuration value  @ref TIM2_Prescaler_TypeDef.
   1075            */

   \                                 In section .far_func.text, align 1
   1076          TIM2_Prescaler_TypeDef TIM2_GetPrescaler(void)
   1077          {
   1078              /* Get the Prescaler Register value */
   1079              return (TIM2_Prescaler_TypeDef)(TIM2->PSCR);
   \                     TIM2_GetPrescaler:
   \   000000 C6530E                LD        A, L:0x530e
   \   000003 87                    RETF
   1080          }
   1081          
   1082          
   1083          /**
   1084            * @brief  Checks whether the specified TIM2 flag is set or not.
   1085            * @param   TIM2_FLAG specifies the flag to check.
   1086            * This parameter can be one of the following values:
   1087            *                       - TIM2_FLAG_UPDATE: TIM2 update Flag
   1088            *                       - TIM2_FLAG_CC1: TIM2 Capture Compare 1 Flag
   1089            *                       - TIM2_FLAG_CC2: TIM2 Capture Compare 2 Flag
   1090            *                       - TIM2_FLAG_CC3: TIM2 Capture Compare 3 Flag
   1091            *                       - TIM2_FLAG_CC1OF: TIM2 Capture Compare 1 over capture Flag
   1092            *                       - TIM2_FLAG_CC2OF: TIM2 Capture Compare 2 over capture Flag
   1093            *                       - TIM2_FLAG_CC3OF: TIM2 Capture Compare 3 over capture Flag
   1094            * @retval FlagStatus The new state of TIM2_FLAG (SET or RESET).
   1095            */

   \                                 In section .far_func.text, align 1
   1096          FlagStatus TIM2_GetFlagStatus(TIM2_FLAG_TypeDef TIM2_FLAG)
   1097          {
   \                     TIM2_GetFlagStatus:
   \   000000 8D000000              CALLF     L:?push_w4
   \   000004 BF00                  LDW       S:?w4, X
   1098              FlagStatus bitstatus = RESET;
   \   000006 3F00                  CLR       S:?b0
   1099              uint8_t tim2_flag_l = 0, tim2_flag_h = 0;
   \   000008 3F00                  CLR       S:?b1
   \   00000A 4F                    CLR       A
   1100          
   1101              /* Check the parameters */
   1102              assert_param(IS_TIM2_GET_FLAG_OK(TIM2_FLAG));
   \   00000B BE00                  LDW       X, S:?w4
   \   00000D A30001                CPW       X, #0x1
   \   000010 2739                  JREQ      L:??TIM2_GetFlagStatus_0
   \   000012 BE00                  LDW       X, S:?w4
   \   000014 A30002                CPW       X, #0x2
   \   000017 2732                  JREQ      L:??TIM2_GetFlagStatus_0
   \   000019 BE00                  LDW       X, S:?w4
   \   00001B A30004                CPW       X, #0x4
   \   00001E 272B                  JREQ      L:??TIM2_GetFlagStatus_0
   \   000020 BE00                  LDW       X, S:?w4
   \   000022 A30008                CPW       X, #0x8
   \   000025 2724                  JREQ      L:??TIM2_GetFlagStatus_0
   \   000027 BE00                  LDW       X, S:?w4
   \   000029 A30200                CPW       X, #0x200
   \   00002C 271D                  JREQ      L:??TIM2_GetFlagStatus_0
   \   00002E BE00                  LDW       X, S:?w4
   \   000030 A30400                CPW       X, #0x400
   \   000033 2716                  JREQ      L:??TIM2_GetFlagStatus_0
   \   000035 BE00                  LDW       X, S:?w4
   \   000037 A30800                CPW       X, #0x800
   \   00003A 270F                  JREQ      L:??TIM2_GetFlagStatus_0
   \   00003C AE044E                LDW       X, #0x44e
   \   00003F BF00                  LDW       S:?w1, X
   \   000041 5F                    CLRW      X
   \   000042 BF00                  LDW       S:?w0, X
   \   000044 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   000047 8D000000              CALLF     assert_failed
   1103          
   1104              tim2_flag_l = (uint8_t)(TIM2->SR1 & (uint8_t)TIM2_FLAG);
   \                     ??TIM2_GetFlagStatus_0:
   \   00004B B600                  LD        A, S:?b9
   \   00004D C45304                AND       A, L:0x5304
   \   000050 B700                  LD        S:?b1, A
   1105              tim2_flag_h = (uint8_t)((uint16_t)TIM2_FLAG >> 8);
   \   000052 BE00                  LDW       X, S:?w4
   \   000054 4F                    CLR       A
   \   000055 01                    RRWA      X, A
   \   000056 9F                    LD        A, XL
   1106          
   1107              if ((tim2_flag_l | (uint8_t)(TIM2->SR2 & tim2_flag_h)) != (uint8_t)RESET )
   \   000057 C45305                AND       A, L:0x5305
   \   00005A BA00                  OR        A, S:?b1
   \   00005C A100                  CP        A, #0x0
   \   00005E 2706                  JREQ      L:??TIM2_GetFlagStatus_1
   1108              {
   1109                  bitstatus = SET;
   \   000060 35010000              MOV       S:?b0, #0x1
   \   000064 2002                  JRA       L:??TIM2_GetFlagStatus_2
   1110              }
   1111              else
   1112              {
   1113                  bitstatus = RESET;
   \                     ??TIM2_GetFlagStatus_1:
   \   000066 3F00                  CLR       S:?b0
   1114              }
   1115              return (FlagStatus)bitstatus;
   \                     ??TIM2_GetFlagStatus_2:
   \   000068 B600                  LD        A, S:?b0
   \   00006A AC000000              JPF       L:?epilogue_w4
   1116          }
   1117          
   1118          
   1119          /**
   1120            * @brief  Clears the TIM2s pending flags.
   1121            * @param   TIM2_FLAG specifies the flag to clear.
   1122            * This parameter can be one of the following values:
   1123            *                       - TIM2_FLAG_UPDATE: TIM2 update Flag
   1124            *                       - TIM2_FLAG_CC1: TIM2 Capture Compare 1 Flag
   1125            *                       - TIM2_FLAG_CC2: TIM2 Capture Compare 2 Flag
   1126            *                       - TIM2_FLAG_CC3: TIM2 Capture Compare 3 Flag
   1127            *                       - TIM2_FLAG_CC1OF: TIM2 Capture Compare 1 over capture Flag
   1128            *                       - TIM2_FLAG_CC2OF: TIM2 Capture Compare 2 over capture Flag
   1129            *                       - TIM2_FLAG_CC3OF: TIM2 Capture Compare 3 over capture Flag
   1130            * @retval None.
   1131            */

   \                                 In section .far_func.text, align 1
   1132          void TIM2_ClearFlag(TIM2_FLAG_TypeDef TIM2_FLAG)
   1133          {
   \                     TIM2_ClearFlag:
   \   000000 8D000000              CALLF     L:?push_w4
   \   000004 BF00                  LDW       S:?w4, X
   1134              /* Check the parameters */
   1135              assert_param(IS_TIM2_CLEAR_FLAG_OK(TIM2_FLAG));
   \   000006 BE00                  LDW       X, S:?w4
   \   000008 02                    RLWA      X, A
   \   000009 A4F1                  AND       A, #0xf1
   \   00000B 02                    RLWA      X, A
   \   00000C A4F0                  AND       A, #0xf0
   \   00000E 02                    RLWA      X, A
   \   00000F 5D                    TNZW      X
   \   000010 2605                  JRNE      L:??TIM2_ClearFlag_0
   \   000012 BE00                  LDW       X, S:?w4
   \   000014 5D                    TNZW      X
   \   000015 260F                  JRNE      L:??TIM2_ClearFlag_1
   \                     ??TIM2_ClearFlag_0:
   \   000017 AE046F                LDW       X, #0x46f
   \   00001A BF00                  LDW       S:?w1, X
   \   00001C 5F                    CLRW      X
   \   00001D BF00                  LDW       S:?w0, X
   \   00001F AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   000022 8D000000              CALLF     assert_failed
   1136          
   1137              /* Clear the flags (rc_w0) clear this bit by writing 0. Writing 1 has no effect*/
   1138              TIM2->SR1 = (uint8_t)(~((uint8_t)(TIM2_FLAG)));
   \                     ??TIM2_ClearFlag_1:
   \   000026 B600                  LD        A, S:?b9
   \   000028 43                    CPL       A
   \   000029 C75304                LD        L:0x5304, A
   1139              TIM2->SR2 = (uint8_t)(~((uint8_t)((uint8_t)TIM2_FLAG >> 8)));
   \   00002C 35FF5305              MOV       L:0x5305, #0xff
   1140          }
   \   000030 AC000000              JPF       L:?epilogue_w4
   1141          
   1142          
   1143          /**
   1144            * @brief  Checks whether the TIM2 interrupt has occurred or not.
   1145            * @param   TIM2_IT specifies the TIM2 interrupt source to check.
   1146            * This parameter can be one of the following values:
   1147            *                       - TIM2_IT_UPDATE: TIM2 update Interrupt source
   1148            *                       - TIM2_IT_CC1: TIM2 Capture Compare 1 Interrupt source
   1149            *                       - TIM2_IT_CC2: TIM2 Capture Compare 2 Interrupt source
   1150            *                       - TIM2_IT_CC3: TIM2 Capture Compare 3 Interrupt source
   1151            * @retval ITStatus The new state of the TIM2_IT(SET or RESET).
   1152            */
   1153          

   \                                 In section .far_func.text, align 1
   1154          ITStatus TIM2_GetITStatus(TIM2_IT_TypeDef TIM2_IT)
   1155          {
   \                     TIM2_GetITStatus:
   \   000000 3B0000                PUSH      S:?b8
   \   000003 B700                  LD        S:?b8, A
   1156              ITStatus bitstatus = RESET;
   \   000005 3F00                  CLR       S:?b0
   1157              uint8_t TIM2_itStatus = 0, TIM2_itEnable = 0;
   \   000007 3F00                  CLR       S:?b2
   \   000009 3F00                  CLR       S:?b1
   1158          
   1159              /* Check the parameters */
   1160              assert_param(IS_TIM2_GET_IT_OK(TIM2_IT));
   \   00000B B600                  LD        A, S:?b8
   \   00000D A101                  CP        A, #0x1
   \   00000F 2721                  JREQ      L:??TIM2_GetITStatus_0
   \   000011 B600                  LD        A, S:?b8
   \   000013 A102                  CP        A, #0x2
   \   000015 271B                  JREQ      L:??TIM2_GetITStatus_0
   \   000017 B600                  LD        A, S:?b8
   \   000019 A104                  CP        A, #0x4
   \   00001B 2715                  JREQ      L:??TIM2_GetITStatus_0
   \   00001D B600                  LD        A, S:?b8
   \   00001F A108                  CP        A, #0x8
   \   000021 270F                  JREQ      L:??TIM2_GetITStatus_0
   \   000023 AE0488                LDW       X, #0x488
   \   000026 BF00                  LDW       S:?w1, X
   \   000028 5F                    CLRW      X
   \   000029 BF00                  LDW       S:?w0, X
   \   00002B AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   00002E 8D000000              CALLF     assert_failed
   1161          
   1162              TIM2_itStatus = (uint8_t)(TIM2->SR1 & TIM2_IT);
   \                     ??TIM2_GetITStatus_0:
   \   000032 B600                  LD        A, S:?b8
   \   000034 C45304                AND       A, L:0x5304
   \   000037 B700                  LD        S:?b2, A
   1163          
   1164              TIM2_itEnable = (uint8_t)(TIM2->IER & TIM2_IT);
   \   000039 B600                  LD        A, S:?b8
   \   00003B C45303                AND       A, L:0x5303
   \   00003E B700                  LD        S:?b1, A
   1165          
   1166              if ((TIM2_itStatus != (uint8_t)RESET ) && (TIM2_itEnable != (uint8_t)RESET ))
   \   000040 3D00                  TNZ       S:?b2
   \   000042 270A                  JREQ      L:??TIM2_GetITStatus_1
   \   000044 3D00                  TNZ       S:?b1
   \   000046 2706                  JREQ      L:??TIM2_GetITStatus_1
   1167              {
   1168                  bitstatus = SET;
   \   000048 35010000              MOV       S:?b0, #0x1
   \   00004C 2002                  JRA       L:??TIM2_GetITStatus_2
   1169              }
   1170              else
   1171              {
   1172                  bitstatus = RESET;
   \                     ??TIM2_GetITStatus_1:
   \   00004E 3F00                  CLR       S:?b0
   1173              }
   1174              return (ITStatus)(bitstatus);
   \                     ??TIM2_GetITStatus_2:
   \   000050 B600                  LD        A, S:?b0
   \   000052 320000                POP       S:?b8
   \   000055 87                    RETF
   1175          }
   1176          
   1177          
   1178          /**
   1179            * @brief  Clears the TIM2's interrupt pending bits.
   1180            * @param   TIM2_IT specifies the pending bit to clear.
   1181            * This parameter can be one of the following values:
   1182            *                       - TIM2_IT_UPDATE: TIM2 update Interrupt source
   1183            *                       - TIM2_IT_CC1: TIM2 Capture Compare 1 Interrupt source
   1184            *                       - TIM2_IT_CC2: TIM2 Capture Compare 2 Interrupt source
   1185            *                       - TIM2_IT_CC3: TIM2 Capture Compare 3 Interrupt source
   1186            * @retval None.
   1187            */

   \                                 In section .far_func.text, align 1
   1188          void TIM2_ClearITPendingBit(TIM2_IT_TypeDef TIM2_IT)
   1189          {
   \                     TIM2_ClearITPendingBit:
   \   000000 3B0000                PUSH      S:?b8
   \   000003 B700                  LD        S:?b8, A
   1190              /* Check the parameters */
   1191              assert_param(IS_TIM2_IT_OK(TIM2_IT));
   \   000005 3D00                  TNZ       S:?b8
   \   000007 2706                  JREQ      L:??TIM2_ClearITPendingBit_0
   \   000009 B600                  LD        A, S:?b8
   \   00000B A110                  CP        A, #0x10
   \   00000D 250F                  JRC       L:??TIM2_ClearITPendingBit_1
   \                     ??TIM2_ClearITPendingBit_0:
   \   00000F AE04A7                LDW       X, #0x4a7
   \   000012 BF00                  LDW       S:?w1, X
   \   000014 5F                    CLRW      X
   \   000015 BF00                  LDW       S:?w0, X
   \   000017 AE0000                LDW       X, #`?<Constant "D:\\\\Project\\\\STM8S_StdP...">`
   \   00001A 8D000000              CALLF     assert_failed
   1192          
   1193              /* Clear the IT pending Bit */
   1194              TIM2->SR1 = (uint8_t)(~TIM2_IT);
   \                     ??TIM2_ClearITPendingBit_1:
   \   00001E 3300                  CPL       S:?b8
   \   000020 B600                  LD        A, S:?b8
   \   000022 C75304                LD        L:0x5304, A
   1195          }
   \   000025 320000                POP       S:?b8
   \   000028 87                    RETF
   1196          
   1197          
   1198          /**
   1199            * @brief  Configure the TI1 as Input.
   1200            * @param   TIM2_ICPolarity  The Input Polarity.
   1201            * This parameter can be one of the following values:
   1202            *                       - TIM2_ICPOLARITY_FALLING
   1203            *                       - TIM2_ICPOLARITY_RISING
   1204            * @param   TIM2_ICSelection specifies the input to be used.
   1205            * This parameter can be one of the following values:
   1206            *                       - TIM2_ICSELECTION_DIRECTTI: TIM2 Input 1 is selected to
   1207            *                         be connected to IC1.
   1208            *                       - TIM2_ICSELECTION_INDIRECTTI: TIM2 Input 1 is selected to
   1209            *                         be connected to IC2.
   1210            * @param   TIM2_ICFilter Specifies the Input Capture Filter.
   1211            * This parameter must be a value between 0x00 and 0x0F.
   1212            * @retval None
   1213            */

   \                                 In section .far_func.text, align 1
   1214          static void TI1_Config(uint8_t TIM2_ICPolarity,
   1215                                 uint8_t TIM2_ICSelection,
   1216                                 uint8_t TIM2_ICFilter)
   1217          {
   \                     TI1_Config:
   \   000000 B700                  LD        S:?b2, A
   \   000002 B600                  LD        A, S:?b1
   1218              /* Disable the Channel 1: Reset the CCE Bit */
   1219              TIM2->CCER1 &= (uint8_t)(~TIM2_CCER1_CC1E);
   \   000004 7211530A              BRES      L:0x530a, #0x0
   1220          
   1221              /* Select the Input and set the filter */
   1222              TIM2->CCMR1  = (uint8_t)((uint8_t)(TIM2->CCMR1 & (uint8_t)(~(uint8_t)( TIM2_CCMR_CCxS | TIM2_CCMR_ICxF )))
   1223                                       | (uint8_t)(((TIM2_ICSelection)) | ((uint8_t)( TIM2_ICFilter << 4))));
   \   000008 4E                    SWAP      A
   \   000009 A4F0                  AND       A, #0xf0
   \   00000B BA00                  OR        A, S:?b0
   \   00000D 88                    PUSH      A
   \   00000E C65307                LD        A, L:0x5307
   \   000011 A40C                  AND       A, #0xc
   \   000013 B700                  LD        S:?b1, A
   \   000015 84                    POP       A
   \   000016 BA00                  OR        A, S:?b1
   \   000018 C75307                LD        L:0x5307, A
   1224          
   1225              /* Select the Polarity */
   1226              if (TIM2_ICPolarity != TIM2_ICPOLARITY_RISING)
   \   00001B 3D00                  TNZ       S:?b2
   \   00001D 2706                  JREQ      L:??TI1_Config_0
   1227              {
   1228                  TIM2->CCER1 |= TIM2_CCER1_CC1P;
   \   00001F 7212530A              BSET      L:0x530a, #0x1
   \   000023 2004                  JRA       L:??TI1_Config_1
   1229              }
   1230              else
   1231              {
   1232                  TIM2->CCER1 &= (uint8_t)(~TIM2_CCER1_CC1P);
   \                     ??TI1_Config_0:
   \   000025 7213530A              BRES      L:0x530a, #0x1
   1233              }
   1234              /* Set the CCE Bit */
   1235              TIM2->CCER1 |= TIM2_CCER1_CC1E;
   \                     ??TI1_Config_1:
   \   000029 7210530A              BSET      L:0x530a, #0x0
   1236          }
   \   00002D 87                    RETF
   1237          
   1238          
   1239          /**
   1240            * @brief  Configure the TI2 as Input.
   1241            * @param   TIM2_ICPolarity  The Input Polarity.
   1242            * This parameter can be one of the following values:
   1243            *                       - TIM2_ICPOLARITY_FALLING
   1244            *                       - TIM2_ICPOLARITY_RISING
   1245            * @param   TIM2_ICSelection specifies the input to be used.
   1246            * This parameter can be one of the following values:
   1247            *                       - TIM2_ICSELECTION_DIRECTTI: TIM2 Input 2 is selected to
   1248            *                         be connected to IC2.
   1249            *                       - TIM2_ICSELECTION_INDIRECTTI: TIM2 Input 2 is selected to
   1250            *                         be connected to IC1.
   1251            * @param   TIM2_ICFilter Specifies the Input Capture Filter.
   1252            * This parameter must be a value between 0x00 and 0x0F.
   1253            * @retval None
   1254            */

   \                                 In section .far_func.text, align 1
   1255          static void TI2_Config(uint8_t TIM2_ICPolarity,
   1256                                 uint8_t TIM2_ICSelection,
   1257                                 uint8_t TIM2_ICFilter)
   1258          {
   \                     TI2_Config:
   \   000000 B700                  LD        S:?b2, A
   \   000002 B600                  LD        A, S:?b1
   1259              /* Disable the Channel 2: Reset the CCE Bit */
   1260              TIM2->CCER1 &= (uint8_t)(~TIM2_CCER1_CC2E);
   \   000004 7219530A              BRES      L:0x530a, #0x4
   1261          
   1262              /* Select the Input and set the filter */
   1263              TIM2->CCMR2 = (uint8_t)((uint8_t)(TIM2->CCMR2 & (uint8_t)(~(uint8_t)( TIM2_CCMR_CCxS | TIM2_CCMR_ICxF ))) 
   1264                                      | (uint8_t)(( (TIM2_ICSelection)) | ((uint8_t)( TIM2_ICFilter << 4))));
   \   000008 4E                    SWAP      A
   \   000009 A4F0                  AND       A, #0xf0
   \   00000B BA00                  OR        A, S:?b0
   \   00000D 88                    PUSH      A
   \   00000E C65308                LD        A, L:0x5308
   \   000011 A40C                  AND       A, #0xc
   \   000013 B700                  LD        S:?b1, A
   \   000015 84                    POP       A
   \   000016 BA00                  OR        A, S:?b1
   \   000018 C75308                LD        L:0x5308, A
   1265          
   1266          
   1267              /* Select the Polarity */
   1268              if (TIM2_ICPolarity != TIM2_ICPOLARITY_RISING)
   \   00001B 3D00                  TNZ       S:?b2
   \   00001D 2706                  JREQ      L:??TI2_Config_0
   1269              {
   1270                  TIM2->CCER1 |= TIM2_CCER1_CC2P;
   \   00001F 721A530A              BSET      L:0x530a, #0x5
   \   000023 2004                  JRA       L:??TI2_Config_1
   1271              }
   1272              else
   1273              {
   1274                  TIM2->CCER1 &= (uint8_t)(~TIM2_CCER1_CC2P);
   \                     ??TI2_Config_0:
   \   000025 721B530A              BRES      L:0x530a, #0x5
   1275              }
   1276          
   1277              /* Set the CCE Bit */
   1278              TIM2->CCER1 |= TIM2_CCER1_CC2E;
   \                     ??TI2_Config_1:
   \   000029 7218530A              BSET      L:0x530a, #0x4
   1279          
   1280          }
   \   00002D 87                    RETF
   1281          
   1282          /**
   1283            * @brief  Configure the TI3 as Input.
   1284            * @param   TIM2_ICPolarity  The Input Polarity.
   1285            * This parameter can be one of the following values:
   1286            *                       - TIM2_ICPOLARITY_FALLING
   1287            *                       - TIM2_ICPOLARITY_RISING
   1288            * @param   TIM2_ICSelection specifies the input to be used.
   1289            * This parameter can be one of the following values:
   1290            *                       - TIM2_ICSELECTION_DIRECTTI: TIM2 Input 3 is selected to
   1291            *                         be connected to IC3.
   1292            * @param   TIM2_ICFilter Specifies the Input Capture Filter.
   1293            * This parameter must be a value between 0x00 and 0x0F.
   1294            * @retval None
   1295            */

   \                                 In section .far_func.text, align 1
   1296          static void TI3_Config(uint8_t TIM2_ICPolarity, uint8_t TIM2_ICSelection,
   1297                                 uint8_t TIM2_ICFilter)
   1298          {
   \                     TI3_Config:
   \   000000 B700                  LD        S:?b2, A
   \   000002 B600                  LD        A, S:?b1
   1299              /* Disable the Channel 3: Reset the CCE Bit */
   1300              TIM2->CCER2 &=  (uint8_t)(~TIM2_CCER2_CC3E);
   \   000004 7211530B              BRES      L:0x530b, #0x0
   1301          
   1302              /* Select the Input and set the filter */
   1303              TIM2->CCMR3 = (uint8_t)((uint8_t)(TIM2->CCMR3 & (uint8_t)(~( TIM2_CCMR_CCxS | TIM2_CCMR_ICxF))) 
   1304                                      | (uint8_t)(( (TIM2_ICSelection)) | ((uint8_t)( TIM2_ICFilter << 4))));
   \   000008 4E                    SWAP      A
   \   000009 A4F0                  AND       A, #0xf0
   \   00000B BA00                  OR        A, S:?b0
   \   00000D 88                    PUSH      A
   \   00000E C65309                LD        A, L:0x5309
   \   000011 A40C                  AND       A, #0xc
   \   000013 B700                  LD        S:?b1, A
   \   000015 84                    POP       A
   \   000016 BA00                  OR        A, S:?b1
   \   000018 C75309                LD        L:0x5309, A
   1305          
   1306          
   1307              /* Select the Polarity */
   1308              if (TIM2_ICPolarity != TIM2_ICPOLARITY_RISING)
   \   00001B 3D00                  TNZ       S:?b2
   \   00001D 2706                  JREQ      L:??TI3_Config_0
   1309              {
   1310                  TIM2->CCER2 |= TIM2_CCER2_CC3P;
   \   00001F 7212530B              BSET      L:0x530b, #0x1
   \   000023 2004                  JRA       L:??TI3_Config_1
   1311              }
   1312              else
   1313              {
   1314                  TIM2->CCER2 &= (uint8_t)(~TIM2_CCER2_CC3P);
   \                     ??TI3_Config_0:
   \   000025 7213530B              BRES      L:0x530b, #0x1
   1315              }
   1316              /* Set the CCE Bit */
   1317              TIM2->CCER2 |= TIM2_CCER2_CC3E;
   \                     ??TI3_Config_1:
   \   000029 7210530B              BSET      L:0x530b, #0x0
   1318          }
   \   00002D 87                    RETF

   \                                 In section .near.rodata, align 1
   \                     `?<Constant "D:\\\\Project\\\\STM8S_StdP...">`:
   \   000000 443A5C50726F          DC8 44H, 3AH, 5CH, 50H, 72H, 6FH, 6AH, 65H
   \   000008 63745C53544D          DC8 63H, 74H, 5CH, 53H, 54H, 4DH, 38H, 53H
   \   000010 5F5374645065          DC8 5FH, 53H, 74H, 64H, 50H, 65H, 72H, 69H
   \   000018 70685F4C6962          DC8 70H, 68H, 5FH, 4CH, 69H, 62H, 5FH, 56H
   \   000020 322E312E305C          DC8 32H, 2EH, 31H, 2EH, 30H, 5CH, 4CH, 69H
   \   000028 627261726965          DC8 62H, 72H, 61H, 72H, 69H, 65H, 73H, 5CH
   \   000030 53544D38535F          DC8 53H, 54H, 4DH, 38H, 53H, 5FH, 53H, 74H
   \   000038 645065726970          DC8 64H, 50H, 65H, 72H, 69H, 70H, 68H, 5FH
   \   000040 447269766572          DC8 44H, 72H, 69H, 76H, 65H, 72H, 5CH, 73H
   \   000048 72635C73746D          DC8 72H, 63H, 5CH, 73H, 74H, 6DH, 38H, 73H
   \   000050 5F74696D322E          DC8 5FH, 74H, 69H, 6DH, 32H, 2EH, 63H, 0
   1319          /**
   1320            * @}
   1321            */
   1322            
   1323            /**
   1324            * @}
   1325            */
   1326          /******************* (C) COPYRIGHT 2011 STMicroelectronics *****END OF FILE****/

   Section sizes:

     Function/Label                           Bytes
     --------------                           -----
     TIM2_DeInit                                89
     TIM2_TimeBaseInit                          18
     TIM2_OC1Init                              182
     TIM2_OC2Init                              182
     TIM2_OC3Init                              182
     TIM2_ICInit                               243
     TIM2_PWMIConfig                           266
     TIM2_Cmd                                   48
     TIM2_ITConfig                              89
     TIM2_UpdateDisableConfig                   48
     TIM2_UpdateRequestConfig                   48
     TIM2_SelectOnePulseMode                    48
     TIM2_PrescalerConfig                      157
     TIM2_ForcedOC1Config                       46
     TIM2_ForcedOC2Config                       46
     TIM2_ForcedOC3Config                       46
     TIM2_ARRPreloadConfig                      48
     TIM2_OC1PreloadConfig                      48
     TIM2_OC2PreloadConfig                      48
     TIM2_OC3PreloadConfig                      48
     TIM2_GenerateEvent                         33
     TIM2_OC1PolarityConfig                     48
     TIM2_OC2PolarityConfig                     48
     TIM2_OC3PolarityConfig                     48
     TIM2_CCxCmd                               135
     TIM2_SelectOCxM                           165
     TIM2_SetCounter                            15
     TIM2_SetAutoreload                         15
     TIM2_SetCompare1                           15
     TIM2_SetCompare2                           15
     TIM2_SetCompare3                           15
     TIM2_SetIC1Prescaler                       56
     TIM2_SetIC2Prescaler                       56
     TIM2_SetIC3Prescaler                       56
     TIM2_GetCapture1                           43
     TIM2_GetCapture2                           43
     TIM2_GetCapture3                           43
     TIM2_GetCounter                            27
     TIM2_GetPrescaler                           4
     TIM2_GetFlagStatus                        110
     TIM2_ClearFlag                             52
     TIM2_GetITStatus                           86
     TIM2_ClearITPendingBit                     41
     TI1_Config                                 46
     TI2_Config                                 46
     TI3_Config                                 46
     ?<Constant "D:\\Project\\STM8S_StdP...">   88

 
 3 237 bytes in section .far_func.text
    88 bytes in section .near.rodata
 
 3 237 bytes of CODE  memory
    88 bytes of CONST memory

Errors: none
Warnings: none
